<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#000000"><link rel="manifest" href="/manifest.json"><link rel="shortcut icon" href="/favicon.png"><style class="_styletron_hydrate_"></style><title>静态资源</title><meta name="description" content="Born to build better enterprise frameworks and apps"><link href="/static/css/post.d62265dc.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><div class="ant-layout" data-reactroot=""><div class="header-module__header___3ADJ9 ant-layout-header"><div class="ant-row-flex"><div class="ant-col-xs-12 ant-col-md-20 ant-col-lg-2"><div class="header-module__logo___3yTXp"><a href="/"><img src="/logo.svg" alt="logo"/></a></div></div><div class="ant-col-xs-0 ant-col-md-0 ant-col-lg-20"><ul class="ant-menu header-module__menu___3yEtW ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/intro/">指南</a></li><li class="ant-menu-item" role="menuitem"><a href="/api/">API</a></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/tutorials/index.html">教程</a></li><li class="ant-menu-item" role="menuitem"><a href="https://github.com/search?q=topic%3Aegg-plugin&amp;type=Repositories">插件</a></li><li class="ant-menu-item" role="menuitem"><a href="https://github.com/eggjs/egg/releases">发布日志</a></li></ul></div><div style="text-align:right" class="ant-col-xs-12 ant-col-md-4 ant-col-lg-2"><button type="button" class="ant-btn"><span>Languages</span></button></div></div></div><div class="ant-layout-content"><div class="basic_layout-module__content___3flpY ant-layout"><div class="sider-module__side___1Cadj ant-layout-sider ant-layout-sider-light" style="flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"><ul class="ant-menu sider-module__menu___2GqPr ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="0$Menu" aria-haspopup="true"><span>新手指南</span><i class="ant-menu-submenu-arrow"></i></div><ul id="0$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/intro/index.html">Egg.js 是什么?</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/intro/egg-and-koa.html">Egg.js 和 Koa</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/intro/quickstart.html">快速入门</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/progressive.html">渐进式开发</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/migration.html">2.x 升级指南</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="1$Menu" aria-haspopup="true"><span>基础功能</span><i class="ant-menu-submenu-arrow"></i></div><ul id="1$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/structure.html">目录结构</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/objects.html">内置对象</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/env.html">运行环境</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/config.html">配置</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/middleware.html">中间件</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/router.html">Router</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/controller.html">Controller</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/service.html">Service</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/plugin.html">插件</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/schedule.html">定时任务</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/extend.html">框架扩展</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/app-start.html">启动自定义</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="2$Menu" aria-haspopup="true"><span>核心功能</span><i class="ant-menu-submenu-arrow"></i></div><ul id="2$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/development.html">本地开发</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/unittest.html">单元测试</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/deployment.html">应用部署</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/logger.html">日志</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/httpclient.html">HttpClient</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/cookie-and-session.html">Cookie and Session</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/cluster-and-ipc.html">多进程模型和进程间通讯</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/view.html">模板渲染</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/error-handling.html">异常处理</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/security.html">安全</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/i18n.html">国际化</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="3$Menu" aria-haspopup="true"><span>教程</span><i class="ant-menu-submenu-arrow"></i></div><ul id="3$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/mysql.html">MySQL</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/restful.html">RESTful API</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/passport.html">Passport 鉴权</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/socketio.html">Socket.IO</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/assets.html">静态资源</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/typescript.html">TypeScript</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="4$Menu" aria-haspopup="true"><span>进阶</span><i class="ant-menu-submenu-arrow"></i></div><ul id="4$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/loader.html">Loader</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/plugin.html">插件开发</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/framework.html">框架开发</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/cluster-client.html">多进程研发模式增强</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/view-plugin.html">模板插件开发规范</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/style-guide.html">代码风格指南</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="5$Menu" aria-haspopup="true"><span>社区</span><i class="ant-menu-submenu-arrow"></i></div><ul id="5$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/plugins/">内置插件列表</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/contributing.html">如何贡献</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/resource.html">资源</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/faq.html">常见问题</a></li></ul></li></ul></div></div><div class="basic_layout-module__post___2Z7KK ant-layout-content"><div class="ant-row" style="margin-left:-8px;margin-right:-8px"><div style="padding-left:8px;padding-right:8px" class="ant-col-xs-24 ant-col-md-18"><div class="markdown-body" style="font-size:14px"><div><p><a href="https://github.com/eggjs/egg-view-assets">egg-view-assets</a> 提供了通用的静态资源管理和本地开发方案，有如下功能</p><ol><li>一体化本地开发方案</li><li>生产环境静态资源映射</li><li>和模板引擎集成</li><li>在<a href="#构建工具约定">约定下</a>可使用多种构建工具，如 <a href="https://webpack.js.org/">webpack</a>、<a href="https://github.com/sorrycc/roadhog">roadhog</a>、<a href="https://umijs.org/">umi</a> 等</li></ol><p>可以先查看示例</p><ul><li><a href="https://github.com/eggjs/examples/tree/master/assets-with-roadhog">roadhog 工具示例</a></li><li><a href="https://github.com/eggjs/examples/tree/master/assets-with-umi">umi 工具示例</a></li><li><a href="https://github.com/eggjs/egg-ant-design-pro">Ant Design Pro 示例</a></li></ul><h2 id="页面渲染">页面渲染</h2><p>可通过自动或手动的方式添加静态资源，以下有两种方式</p><h3 id="使用-assets-模板引擎">使用 assets 模板引擎</h3><p>assets 模板引擎并非服务端渲染，而是以一个静态资源文件作为入口，使用基础模板渲染出 html，并将这个文件插入到 html 的一种方式，查看<a href="https://github.com/eggjs/examples/tree/master/assets-with-roadhog">使用 roadhog 的例子</a>。</p><p>配置插件</p><pre><code class="language-js">// config/plugin.js
exports.assets = {
  enable: true,
  package: &#x27;egg-view-assets&#x27;,
}</code></pre><p>配置 assets 模板引擎</p><pre><code class="language-js">// config/config.default.js
exports.view = {
  mapping: {
    &#x27;.js&#x27;: &#x27;assets&#x27;,
  },
};</code></pre><p>添加静态资源入口文件 <code>app/view/index.js</code>，然后调用 render 方法进行渲染</p><pre><code class="language-js">// app/controller/home.js
module.exports = class HomeController extends Controller {
  async render() {
    await this.ctx.render(&#x27;index.js&#x27;);
  }
}</code></pre><p>渲染的结果如下</p><pre><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;http://127.0.0.1:8000/index.css&quot;&gt;&lt;/link&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;http://127.0.0.1:8000/index.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p><strong>注意：这个路径生成规则是有映射的，如 <code>index.js</code> -&gt; <code>http://127.0.0.1:8000/index.js</code>。如果本地开发工具不支持这层映射，比如自定义了 entry 配置，可以使用其他模板引擎。</strong></p><h4 id="全局自定义-html-模板">全局自定义 html 模板</h4><p>一般默认的 html 无法满足需求，可以指定模板路径和模板引擎。</p><pre><code class="language-js">// config/config.default.js
module.exports = appInfo =&gt; ({
  assets: {
    templatePath: path.join(appInfo.baseDir, &#x27;app/view/template.html&#x27;),
    templateViewEngine: &#x27;nunjucks&#x27;,
  },
});</code></pre><p>添加模板文件</p><pre><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    {{ helper.assets.getStyle() | safe }}
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
    {{ helper.assets.getScript() | safe }}
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p><a href="https://github.com/eggjs/egg-view-assets">egg-view-assets</a> 插件提供了 <code>helper.assets</code> 根据自己的场景调用，<code>helper.assets.getScript()</code> 可以不用传参，会将 <code>render</code> 函数的参数透传。</p><h4 id="页面自定义-html-模板">页面自定义 html 模板</h4><p>支持根据不同页面指定模板，可以在 <code>render</code> 方法传参</p><pre><code class="language-js">// app/controller/home.js
module.exports = class HomeController extends Controller {
  async render() {
    await this.ctx.render(&#x27;index.js&#x27;, {}, {
      templatePath: path.join(this.app.config.baseDir, &#x27;app/view/template.html&#x27;),
      templateViewEngine: &#x27;nunjucks&#x27;,
    });
  }
}</code></pre><h4 id="修改静态资源目录">修改静态资源目录</h4><p>以上例子是将静态资源放到 <code>app/view</code> 目录下，但大部分情况希望放到独立目录，如 <code>app/assets</code>。因为 assets 模板引擎使用 <code>egg-view</code> 的加载器，所以直接修改其配置</p><pre><code class="language-js">// config/config.default.js
module.exports = appInfo =&gt; ({
  view: {
    // 如果还有其他模板引擎，需要合并多个目录
    root: path.join(appInfo.baseDir, &#x27;app/assets&#x27;),
  },
});</code></pre><h3 id="使用其他模板引擎">使用其他模板引擎</h3><p>如果无法满足<a href="#映射关系">文件映射</a>，可以配合其他模板引擎使用，这时不需要配置 assets 模板引擎，查看<a href="https://github.com/eggjs/examples/tree/master/assets-with-umi">使用 umi 的例子</a>。</p><pre><code class="language-js">// config/config.default.js
exports.view = {
  mapping: {
    &#x27;.html&#x27;: &#x27;nunjucks&#x27;,
  },
};</code></pre><p>渲染模板</p><pre><code class="language-js">// app/controller/home.js
module.exports = class HomeController extends Controller {
  async render() {
    await this.ctx.render(&#x27;index.html&#x27;);
  }
}</code></pre><p>添加模板文件（简化了 umi 的模板）</p><pre><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    {{ helper.assets.getStyle(&#x27;umi.css&#x27;) | safe }}
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
    {{ helper.assets.getScript(&#x27;umi.js&#x27;) | safe }}
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p><strong>在其他模板中必须添加参数生成需要的静态资源路径</strong></p><h3 id="上下文数据">上下文数据</h3><p>有时候前端需要获取服务端数据，所以在渲染页面时会向 window 全局对象设置数据。</p><p>assets 模板引擎可直接传入参数，默认前端代码可以从 <code>window.context</code> 获取数据。</p><pre><code class="language-js">// app/controller/home.js
module.exports = class HomeController extends Controller {
  async render() {
    await this.ctx.render(&#x27;index.js&#x27;, { data: 1 });
  }
}</code></pre><p>其他模板引擎需要调用 <code>helper.assets.getContext(__context__)</code> 并传入上下文的参数</p><pre><code class="language-js">// app/controller/home.js
module.exports = class HomeController extends Controller {
  async render() {
    await this.ctx.render(&#x27;index.html&#x27;, {
      __context__: { data: 1 },
    });
  }
}</code></pre><p>默认属性为 <code>context</code>，这个可以通过配置修改</p><pre><code class="language-js">exports.assets = {
  contextKey: &#x27;__context__&#x27;,
};</code></pre><h2 id="构建工具">构建工具</h2><p>这种模式最重要的是和构建工具整合，保证本地开发体验及自动部署，所以构建工具和框架需要有一层约定。</p><p>下面以 <a href="https://github.com/sorrycc/roadhog">roadhog</a> 为例</p><h3 id="映射关系">映射关系</h3><p>构建工具的 entry 配置决定了映射关系，如基于 <a href="https://webpack.js.org/">webpack</a> 封装的 <a href="https://github.com/sorrycc/roadhog">roadhog</a>、<a href="https://umijs.org/">umi</a> 等工具内置了映射关系，如果单独使用 <a href="https://webpack.js.org/">webpack</a> 需要根据这层映射来选择用哪种方式。</p><ul><li><p>文件源码 <code>app/assets/index.js</code>，对应的 entry 为 <code>index.js</code></p></li><li><p>本地静态服务接收以此为 entry，如请求 <code>http://127.0.0.1:8000/index.js</code></p></li><li><p>构建生成的文件需要有这层映射关系，如生成 index.{hash}.js 并生成 manifest 文件描述关系如</p><pre><code class="language-json">{
  &quot;index.js&quot;: &quot;index.{hash}.js&quot;
}</code></pre></li></ul><p><a href="https://github.com/sorrycc/roadhog">roadhog</a> 完全满足这个映射关系使用 <a href="#使用-assets-模板引擎">assets 模板引擎</a>。而 <a href="https://umijs.org/">umi</a> 不满足文件映射，因为他只有一个入口 <code>umi.js</code> 文件，所以选择<a href="#使用其他模板引擎">其他模板引擎</a>的方案。</p><p><strong>其他构建工具的接入需要满足这层映射关系。</strong></p><h3 id="本地开发">本地开发</h3><p>查看<a href="https://github.com/eggjs/examples/blob/master/assets-with-roadhog/config/config.default.js">示例配置</a>，本地服务配置成 <code>roadhog dev</code>，配置 <code>port</code> 来检查服务是否启动完成，因为 roadhog 默认启动端口为 8000，所以这里配置成 8000。</p><pre><code class="language-js">exports.assets = {
  devServer: {
    command: &#x27;roadhog dev&#x27;,
    port: 8000,
  },
};</code></pre><h3 id="部署">部署</h3><p>静态资源部署之前需要构建，配置 <code>roadhog build</code> 命令，并执行 <code>npm run build</code></p><pre><code class="language-json">{
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;SET_PUBLIC_PATH=true roadhog build&quot;
  }
}</code></pre><p><strong>注意：这里添加了 <code>SET_PUBLIC_PATH</code> 变量是因为 roadhog 这样才能开启 publicPath</strong></p><p>构建的结果根据 <code>.webpackrc</code> 配置的 output 决定，示例是放到 <code>app/public</code> 目录下，由 <code>egg-static</code> 提供服务。</p><p>同时根据 <code>.webpackrc</code> 配置的 manifest 生成一个 <code>manifest.json</code> 文件到 <code>config</code> 目录下（egg 需要读取这个文件作为映射关系）。</p><h4 id="应用提供服务">应用提供服务</h4><p>现在应用启动后可以通过 <code>http://127.0.0.1:7001/public/index.{hash}.js</code> 访问静态资源，发现这里多了一层 public 的路径，所以需要添加 publicPath 配置。</p><pre><code class="language-js">// config/config.prod.js
exports.assets = {
  publicPath: &#x27;/public/&#x27;,
};</code></pre><h4 id="使用-cdn">使用 CDN</h4><p>一般静态资源都会发到 CDN，所以在构建完成后需要平台将构建产物发布到 CDN 上，如 <code>https://cdn/myapp/index.{hash}.js</code>。</p><p>现在除了 publichPath 还需要修改静态资源地址</p><pre><code class="language-js">// config/config.prod.js
exports.assets = {
  url: &#x27;https://cdn&#x27;,
  publicPath: &#x27;/myapp/&#x27;,
};</code></pre></div></div></div><div style="padding-left:8px;padding-right:8px" class="ant-col-xs-0 ant-col-md-6"><div class="markdown-body" style="font-size:14px"><div><ul><li><a href="#%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93">页面渲染</a><ul><li><a href="#%E4%BD%BF%E7%94%A8-assets-%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E">使用 assets 模板引擎</a><ul><li><a href="#%E5%85%A8%E5%B1%80%E8%87%AA%E5%AE%9A%E4%B9%89-html-%E6%A8%A1%E6%9D%BF">全局自定义 html 模板</a></li><li><a href="#%E9%A1%B5%E9%9D%A2%E8%87%AA%E5%AE%9A%E4%B9%89-html-%E6%A8%A1%E6%9D%BF">页面自定义 html 模板</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9B%AE%E5%BD%95">修改静态资源目录</a></li></ul></li><li><a href="#%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E">使用其他模板引擎</a></li><li><a href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E6%95%B0%E6%8D%AE">上下文数据</a></li></ul></li><li><a href="#%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7">构建工具</a><ul><li><a href="#%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB">映射关系</a></li><li><a href="#%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91">本地开发</a></li><li><a href="#%E9%83%A8%E7%BD%B2">部署</a><ul><li><a href="#%E5%BA%94%E7%94%A8%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1">应用提供服务</a></li><li><a href="#%E4%BD%BF%E7%94%A8-cdn">使用 CDN</a></li></ul></li></ul></li></ul></div></div></div></div></div></div></div></div></div><script type="text/javascript">window.__INIT_STATE__={"lang":"zh","props":{"toc":"-%20%5B%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%5D(%23%25E9%25A1%25B5%25E9%259D%25A2%25E6%25B8%25B2%25E6%259F%2593)%0A%20%20*%20%5B%E4%BD%BF%E7%94%A8%20assets%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%5D(%23%25E4%25BD%25BF%25E7%2594%25A8-assets-%25E6%25A8%25A1%25E6%259D%25BF%25E5%25BC%2595%25E6%2593%258E)%0A%20%20%20%20%2B%20%5B%E5%85%A8%E5%B1%80%E8%87%AA%E5%AE%9A%E4%B9%89%20html%20%E6%A8%A1%E6%9D%BF%5D(%23%25E5%2585%25A8%25E5%25B1%2580%25E8%2587%25AA%25E5%25AE%259A%25E4%25B9%2589-html-%25E6%25A8%25A1%25E6%259D%25BF)%0A%20%20%20%20%2B%20%5B%E9%A1%B5%E9%9D%A2%E8%87%AA%E5%AE%9A%E4%B9%89%20html%20%E6%A8%A1%E6%9D%BF%5D(%23%25E9%25A1%25B5%25E9%259D%25A2%25E8%2587%25AA%25E5%25AE%259A%25E4%25B9%2589-html-%25E6%25A8%25A1%25E6%259D%25BF)%0A%20%20%20%20%2B%20%5B%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9B%AE%E5%BD%95%5D(%23%25E4%25BF%25AE%25E6%2594%25B9%25E9%259D%2599%25E6%2580%2581%25E8%25B5%2584%25E6%25BA%2590%25E7%259B%25AE%25E5%25BD%2595)%0A%20%20*%20%5B%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%5D(%23%25E4%25BD%25BF%25E7%2594%25A8%25E5%2585%25B6%25E4%25BB%2596%25E6%25A8%25A1%25E6%259D%25BF%25E5%25BC%2595%25E6%2593%258E)%0A%20%20*%20%5B%E4%B8%8A%E4%B8%8B%E6%96%87%E6%95%B0%E6%8D%AE%5D(%23%25E4%25B8%258A%25E4%25B8%258B%25E6%2596%2587%25E6%2595%25B0%25E6%258D%25AE)%0A-%20%5B%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%5D(%23%25E6%259E%2584%25E5%25BB%25BA%25E5%25B7%25A5%25E5%2585%25B7)%0A%20%20*%20%5B%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%5D(%23%25E6%2598%25A0%25E5%25B0%2584%25E5%2585%25B3%25E7%25B3%25BB)%0A%20%20*%20%5B%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%5D(%23%25E6%259C%25AC%25E5%259C%25B0%25E5%25BC%2580%25E5%258F%2591)%0A%20%20*%20%5B%E9%83%A8%E7%BD%B2%5D(%23%25E9%2583%25A8%25E7%25BD%25B2)%0A%20%20%20%20%2B%20%5B%E5%BA%94%E7%94%A8%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1%5D(%23%25E5%25BA%2594%25E7%2594%25A8%25E6%258F%2590%25E4%25BE%259B%25E6%259C%258D%25E5%258A%25A1)%0A%20%20%20%20%2B%20%5B%E4%BD%BF%E7%94%A8%20CDN%5D(%23%25E4%25BD%25BF%25E7%2594%25A8-cdn)","meta":{"info":{"title":"静态资源"}},"content":"%0A%0A%0A%5Begg-view-assets%5D%20%E6%8F%90%E4%BE%9B%E4%BA%86%E9%80%9A%E7%94%A8%E7%9A%84%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%92%8C%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%EF%BC%8C%E6%9C%89%E5%A6%82%E4%B8%8B%E5%8A%9F%E8%83%BD%0A%0A1.%20%E4%B8%80%E4%BD%93%E5%8C%96%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%0A2.%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%98%A0%E5%B0%84%0A3.%20%E5%92%8C%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E9%9B%86%E6%88%90%0A4.%20%E5%9C%A8%5B%E7%BA%A6%E5%AE%9A%E4%B8%8B%5D(%23%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%BA%A6%E5%AE%9A)%E5%8F%AF%E4%BD%BF%E7%94%A8%E5%A4%9A%E7%A7%8D%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%A6%82%20%5Bwebpack%5D%E3%80%81%5Broadhog%5D%E3%80%81%5Bumi%5D%20%E7%AD%89%0A%0A%E5%8F%AF%E4%BB%A5%E5%85%88%E6%9F%A5%E7%9C%8B%E7%A4%BA%E4%BE%8B%0A%0A-%20%5Broadhog%20%E5%B7%A5%E5%85%B7%E7%A4%BA%E4%BE%8B%5D(https%3A%2F%2Fgithub.com%2Feggjs%2Fexamples%2Ftree%2Fmaster%2Fassets-with-roadhog)%0A-%20%5Bumi%20%E5%B7%A5%E5%85%B7%E7%A4%BA%E4%BE%8B%5D(https%3A%2F%2Fgithub.com%2Feggjs%2Fexamples%2Ftree%2Fmaster%2Fassets-with-umi)%0A-%20%5BAnt%20Design%20Pro%20%E7%A4%BA%E4%BE%8B%5D(https%3A%2F%2Fgithub.com%2Feggjs%2Fegg-ant-design-pro)%0A%0A%23%23%20%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%0A%0A%E5%8F%AF%E9%80%9A%E8%BF%87%E8%87%AA%E5%8A%A8%E6%88%96%E6%89%8B%E5%8A%A8%E7%9A%84%E6%96%B9%E5%BC%8F%E6%B7%BB%E5%8A%A0%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%EF%BC%8C%E4%BB%A5%E4%B8%8B%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%0A%0A%23%23%23%20%E4%BD%BF%E7%94%A8%20assets%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%0A%0Aassets%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E5%B9%B6%E9%9D%9E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%EF%BC%8C%E8%80%8C%E6%98%AF%E4%BB%A5%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E4%BD%9C%E4%B8%BA%E5%85%A5%E5%8F%A3%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%A8%A1%E6%9D%BF%E6%B8%B2%E6%9F%93%E5%87%BA%20html%EF%BC%8C%E5%B9%B6%E5%B0%86%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E6%8F%92%E5%85%A5%E5%88%B0%20html%20%E7%9A%84%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%9F%A5%E7%9C%8B%5B%E4%BD%BF%E7%94%A8%20roadhog%20%E7%9A%84%E4%BE%8B%E5%AD%90%5D(https%3A%2F%2Fgithub.com%2Feggjs%2Fexamples%2Ftree%2Fmaster%2Fassets-with-roadhog)%E3%80%82%0A%0A%E9%85%8D%E7%BD%AE%E6%8F%92%E4%BB%B6%0A%0A%60%60%60js%0A%2F%2F%20config%2Fplugin.js%0Aexports.assets%20%3D%20%7B%0A%20%20enable%3A%20true%2C%0A%20%20package%3A%20'egg-view-assets'%2C%0A%7D%0A%60%60%60%0A%0A%E9%85%8D%E7%BD%AE%20assets%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.default.js%0Aexports.view%20%3D%20%7B%0A%20%20mapping%3A%20%7B%0A%20%20%20%20'.js'%3A%20'assets'%2C%0A%20%20%7D%2C%0A%7D%3B%0A%60%60%60%0A%0A%E6%B7%BB%E5%8A%A0%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6%20%60app%2Fview%2Findex.js%60%EF%BC%8C%E7%84%B6%E5%90%8E%E8%B0%83%E7%94%A8%20render%20%E6%96%B9%E6%B3%95%E8%BF%9B%E8%A1%8C%E6%B8%B2%E6%9F%93%0A%0A%60%60%60js%0A%2F%2F%20app%2Fcontroller%2Fhome.js%0Amodule.exports%20%3D%20class%20HomeController%20extends%20Controller%20%7B%0A%20%20async%20render()%20%7B%0A%20%20%20%20await%20this.ctx.render('index.js')%3B%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%E6%B8%B2%E6%9F%93%E7%9A%84%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%0A%0A%60%60%60html%0A%3C!doctype%20html%3E%0A%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22http%3A%2F%2F127.0.0.1%3A8000%2Findex.css%22%3E%3C%2Flink%3E%0A%20%20%3C%2Fhead%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id%3D%22root%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%3Cscript%20src%3D%22http%3A%2F%2F127.0.0.1%3A8000%2Findex.js%22%3E%3C%2Fscript%3E%0A%20%20%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A%0A%60%60%60%0A%0A**%E6%B3%A8%E6%84%8F%EF%BC%9A%E8%BF%99%E4%B8%AA%E8%B7%AF%E5%BE%84%E7%94%9F%E6%88%90%E8%A7%84%E5%88%99%E6%98%AF%E6%9C%89%E6%98%A0%E5%B0%84%E7%9A%84%EF%BC%8C%E5%A6%82%20%60index.js%60%20-%3E%20%60http%3A%2F%2F127.0.0.1%3A8000%2Findex.js%60%E3%80%82%E5%A6%82%E6%9E%9C%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E4%B8%8D%E6%94%AF%E6%8C%81%E8%BF%99%E5%B1%82%E6%98%A0%E5%B0%84%EF%BC%8C%E6%AF%94%E5%A6%82%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%86%20entry%20%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E3%80%82**%0A%0A%23%23%23%23%20%E5%85%A8%E5%B1%80%E8%87%AA%E5%AE%9A%E4%B9%89%20html%20%E6%A8%A1%E6%9D%BF%0A%0A%E4%B8%80%E8%88%AC%E9%BB%98%E8%AE%A4%E7%9A%84%20html%20%E6%97%A0%E6%B3%95%E6%BB%A1%E8%B6%B3%E9%9C%80%E6%B1%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9A%E6%A8%A1%E6%9D%BF%E8%B7%AF%E5%BE%84%E5%92%8C%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E3%80%82%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.default.js%0Amodule.exports%20%3D%20appInfo%20%3D%3E%20(%7B%0A%20%20assets%3A%20%7B%0A%20%20%20%20templatePath%3A%20path.join(appInfo.baseDir%2C%20'app%2Fview%2Ftemplate.html')%2C%0A%20%20%20%20templateViewEngine%3A%20'nunjucks'%2C%0A%20%20%7D%2C%0A%7D)%3B%0A%60%60%60%0A%0A%E6%B7%BB%E5%8A%A0%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6%0A%0A%60%60%60html%0A%3C!doctype%20html%3E%0A%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%7B%7B%20helper.assets.getStyle()%20%7C%20safe%20%7D%7D%0A%20%20%3C%2Fhead%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id%3D%22root%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%7B%7B%20helper.assets.getScript()%20%7C%20safe%20%7D%7D%0A%20%20%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A%60%60%60%0A%0A%5Begg-view-assets%5D%20%E6%8F%92%E4%BB%B6%E6%8F%90%E4%BE%9B%E4%BA%86%20%60helper.assets%60%20%E6%A0%B9%E6%8D%AE%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9C%BA%E6%99%AF%E8%B0%83%E7%94%A8%EF%BC%8C%60helper.assets.getScript()%60%20%E5%8F%AF%E4%BB%A5%E4%B8%8D%E7%94%A8%E4%BC%A0%E5%8F%82%EF%BC%8C%E4%BC%9A%E5%B0%86%20%60render%60%20%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E9%80%8F%E4%BC%A0%E3%80%82%0A%0A%23%23%23%23%20%E9%A1%B5%E9%9D%A2%E8%87%AA%E5%AE%9A%E4%B9%89%20html%20%E6%A8%A1%E6%9D%BF%0A%0A%E6%94%AF%E6%8C%81%E6%A0%B9%E6%8D%AE%E4%B8%8D%E5%90%8C%E9%A1%B5%E9%9D%A2%E6%8C%87%E5%AE%9A%E6%A8%A1%E6%9D%BF%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%9C%A8%20%60render%60%20%E6%96%B9%E6%B3%95%E4%BC%A0%E5%8F%82%0A%0A%60%60%60js%0A%2F%2F%20app%2Fcontroller%2Fhome.js%0Amodule.exports%20%3D%20class%20HomeController%20extends%20Controller%20%7B%0A%20%20async%20render()%20%7B%0A%20%20%20%20await%20this.ctx.render('index.js'%2C%20%7B%7D%2C%20%7B%0A%20%20%20%20%20%20templatePath%3A%20path.join(this.app.config.baseDir%2C%20'app%2Fview%2Ftemplate.html')%2C%0A%20%20%20%20%20%20templateViewEngine%3A%20'nunjucks'%2C%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%23%23%20%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9B%AE%E5%BD%95%0A%0A%E4%BB%A5%E4%B8%8A%E4%BE%8B%E5%AD%90%E6%98%AF%E5%B0%86%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%94%BE%E5%88%B0%20%60app%2Fview%60%20%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%8C%E4%BD%86%E5%A4%A7%E9%83%A8%E5%88%86%E6%83%85%E5%86%B5%E5%B8%8C%E6%9C%9B%E6%94%BE%E5%88%B0%E7%8B%AC%E7%AB%8B%E7%9B%AE%E5%BD%95%EF%BC%8C%E5%A6%82%20%60app%2Fassets%60%E3%80%82%E5%9B%A0%E4%B8%BA%20assets%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E4%BD%BF%E7%94%A8%20%60egg-view%60%20%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%99%A8%EF%BC%8C%E6%89%80%E4%BB%A5%E7%9B%B4%E6%8E%A5%E4%BF%AE%E6%94%B9%E5%85%B6%E9%85%8D%E7%BD%AE%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.default.js%0Amodule.exports%20%3D%20appInfo%20%3D%3E%20(%7B%0A%20%20view%3A%20%7B%0A%20%20%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E8%BF%98%E6%9C%89%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%EF%BC%8C%E9%9C%80%E8%A6%81%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AA%E7%9B%AE%E5%BD%95%0A%20%20%20%20root%3A%20path.join(appInfo.baseDir%2C%20'app%2Fassets')%2C%0A%20%20%7D%2C%0A%7D)%3B%0A%60%60%60%0A%0A%23%23%23%20%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%0A%0A%E5%A6%82%E6%9E%9C%E6%97%A0%E6%B3%95%E6%BB%A1%E8%B6%B3%5B%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84%5D(%23%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%85%8D%E5%90%88%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E4%BD%BF%E7%94%A8%EF%BC%8C%E8%BF%99%E6%97%B6%E4%B8%8D%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AE%20assets%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%EF%BC%8C%E6%9F%A5%E7%9C%8B%5B%E4%BD%BF%E7%94%A8%20umi%20%E7%9A%84%E4%BE%8B%E5%AD%90%5D(https%3A%2F%2Fgithub.com%2Feggjs%2Fexamples%2Ftree%2Fmaster%2Fassets-with-umi)%E3%80%82%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.default.js%0Aexports.view%20%3D%20%7B%0A%20%20mapping%3A%20%7B%0A%20%20%20%20'.html'%3A%20'nunjucks'%2C%0A%20%20%7D%2C%0A%7D%3B%0A%60%60%60%0A%0A%E6%B8%B2%E6%9F%93%E6%A8%A1%E6%9D%BF%0A%0A%60%60%60js%0A%2F%2F%20app%2Fcontroller%2Fhome.js%0Amodule.exports%20%3D%20class%20HomeController%20extends%20Controller%20%7B%0A%20%20async%20render()%20%7B%0A%20%20%20%20await%20this.ctx.render('index.html')%3B%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%E6%B7%BB%E5%8A%A0%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6%EF%BC%88%E7%AE%80%E5%8C%96%E4%BA%86%20umi%20%E7%9A%84%E6%A8%A1%E6%9D%BF%EF%BC%89%0A%0A%60%60%60html%0A%3C!doctype%20html%3E%0A%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%7B%7B%20helper.assets.getStyle('umi.css')%20%7C%20safe%20%7D%7D%0A%20%20%3C%2Fhead%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id%3D%22root%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%7B%7B%20helper.assets.getScript('umi.js')%20%7C%20safe%20%7D%7D%0A%20%20%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A%60%60%60%0A%0A**%E5%9C%A8%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E4%B8%AD%E5%BF%85%E9%A1%BB%E6%B7%BB%E5%8A%A0%E5%8F%82%E6%95%B0%E7%94%9F%E6%88%90%E9%9C%80%E8%A6%81%E7%9A%84%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84**%0A%0A%23%23%23%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%95%B0%E6%8D%AE%0A%0A%E6%9C%89%E6%97%B6%E5%80%99%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E8%8E%B7%E5%8F%96%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%89%80%E4%BB%A5%E5%9C%A8%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E6%97%B6%E4%BC%9A%E5%90%91%20window%20%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1%E8%AE%BE%E7%BD%AE%E6%95%B0%E6%8D%AE%E3%80%82%0A%0Aassets%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E5%8F%AF%E7%9B%B4%E6%8E%A5%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0%EF%BC%8C%E9%BB%98%E8%AE%A4%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%8F%AF%E4%BB%A5%E4%BB%8E%20%60window.context%60%20%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E3%80%82%0A%0A%60%60%60js%0A%2F%2F%20app%2Fcontroller%2Fhome.js%0Amodule.exports%20%3D%20class%20HomeController%20extends%20Controller%20%7B%0A%20%20async%20render()%20%7B%0A%20%20%20%20await%20this.ctx.render('index.js'%2C%20%7B%20data%3A%201%20%7D)%3B%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E9%9C%80%E8%A6%81%E8%B0%83%E7%94%A8%20%60helper.assets.getContext(__context__)%60%20%E5%B9%B6%E4%BC%A0%E5%85%A5%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E5%8F%82%E6%95%B0%0A%0A%60%60%60js%0A%2F%2F%20app%2Fcontroller%2Fhome.js%0Amodule.exports%20%3D%20class%20HomeController%20extends%20Controller%20%7B%0A%20%20async%20render()%20%7B%0A%20%20%20%20await%20this.ctx.render('index.html'%2C%20%7B%0A%20%20%20%20%20%20__context__%3A%20%7B%20data%3A%201%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%E9%BB%98%E8%AE%A4%E5%B1%9E%E6%80%A7%E4%B8%BA%20%60context%60%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9%0A%0A%60%60%60js%0Aexports.assets%20%3D%20%7B%0A%20%20contextKey%3A%20'__context__'%2C%0A%7D%3B%0A%60%60%60%0A%0A%23%23%20%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%0A%0A%E8%BF%99%E7%A7%8D%E6%A8%A1%E5%BC%8F%E6%9C%80%E9%87%8D%E8%A6%81%E7%9A%84%E6%98%AF%E5%92%8C%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E6%95%B4%E5%90%88%EF%BC%8C%E4%BF%9D%E8%AF%81%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C%E5%8F%8A%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%EF%BC%8C%E6%89%80%E4%BB%A5%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E5%92%8C%E6%A1%86%E6%9E%B6%E9%9C%80%E8%A6%81%E6%9C%89%E4%B8%80%E5%B1%82%E7%BA%A6%E5%AE%9A%E3%80%82%0A%0A%E4%B8%8B%E9%9D%A2%E4%BB%A5%20%5Broadhog%5D%20%E4%B8%BA%E4%BE%8B%0A%0A%23%23%23%20%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%0A%0A%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%9A%84%20entry%20%E9%85%8D%E7%BD%AE%E5%86%B3%E5%AE%9A%E4%BA%86%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E5%A6%82%E5%9F%BA%E4%BA%8E%20%5Bwebpack%5D%20%E5%B0%81%E8%A3%85%E7%9A%84%20%5Broadhog%5D%E3%80%81%5Bumi%5D%20%E7%AD%89%E5%B7%A5%E5%85%B7%E5%86%85%E7%BD%AE%E4%BA%86%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8%20%5Bwebpack%5D%20%E9%9C%80%E8%A6%81%E6%A0%B9%E6%8D%AE%E8%BF%99%E5%B1%82%E6%98%A0%E5%B0%84%E6%9D%A5%E9%80%89%E6%8B%A9%E7%94%A8%E5%93%AA%E7%A7%8D%E6%96%B9%E5%BC%8F%E3%80%82%0A%0A-%20%E6%96%87%E4%BB%B6%E6%BA%90%E7%A0%81%20%60app%2Fassets%2Findex.js%60%EF%BC%8C%E5%AF%B9%E5%BA%94%E7%9A%84%20entry%20%E4%B8%BA%20%60index.js%60%0A%0A-%20%E6%9C%AC%E5%9C%B0%E9%9D%99%E6%80%81%E6%9C%8D%E5%8A%A1%E6%8E%A5%E6%94%B6%E4%BB%A5%E6%AD%A4%E4%B8%BA%20entry%EF%BC%8C%E5%A6%82%E8%AF%B7%E6%B1%82%20%60http%3A%2F%2F127.0.0.1%3A8000%2Findex.js%60%0A%0A-%20%E6%9E%84%E5%BB%BA%E7%94%9F%E6%88%90%E7%9A%84%E6%96%87%E4%BB%B6%E9%9C%80%E8%A6%81%E6%9C%89%E8%BF%99%E5%B1%82%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E5%A6%82%E7%94%9F%E6%88%90%20index.%7Bhash%7D.js%20%E5%B9%B6%E7%94%9F%E6%88%90%20manifest%20%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E5%85%B3%E7%B3%BB%E5%A6%82%0A%0A%20%20%60%60%60json%0A%20%20%7B%0A%20%20%20%20%22index.js%22%3A%20%22index.%7Bhash%7D.js%22%0A%20%20%7D%0A%20%20%60%60%60%0A%0A%5Broadhog%5D%20%E5%AE%8C%E5%85%A8%E6%BB%A1%E8%B6%B3%E8%BF%99%E4%B8%AA%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%E4%BD%BF%E7%94%A8%20%5Bassets%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%5D(%23%E4%BD%BF%E7%94%A8-assets-%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E)%E3%80%82%E8%80%8C%20%5Bumi%5D%20%E4%B8%8D%E6%BB%A1%E8%B6%B3%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E4%BB%96%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%85%A5%E5%8F%A3%20%60umi.js%60%20%E6%96%87%E4%BB%B6%EF%BC%8C%E6%89%80%E4%BB%A5%E9%80%89%E6%8B%A9%5B%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%5D(%23%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E)%E7%9A%84%E6%96%B9%E6%A1%88%E3%80%82%0A%0A**%E5%85%B6%E4%BB%96%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%9A%84%E6%8E%A5%E5%85%A5%E9%9C%80%E8%A6%81%E6%BB%A1%E8%B6%B3%E8%BF%99%E5%B1%82%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%E3%80%82**%0A%0A%23%23%23%20%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%0A%0A%E6%9F%A5%E7%9C%8B%5B%E7%A4%BA%E4%BE%8B%E9%85%8D%E7%BD%AE%5D(https%3A%2F%2Fgithub.com%2Feggjs%2Fexamples%2Fblob%2Fmaster%2Fassets-with-roadhog%2Fconfig%2Fconfig.default.js)%EF%BC%8C%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%88%90%20%60roadhog%20dev%60%EF%BC%8C%E9%85%8D%E7%BD%AE%20%60port%60%20%E6%9D%A5%E6%A3%80%E6%9F%A5%E6%9C%8D%E5%8A%A1%E6%98%AF%E5%90%A6%E5%90%AF%E5%8A%A8%E5%AE%8C%E6%88%90%EF%BC%8C%E5%9B%A0%E4%B8%BA%20roadhog%20%E9%BB%98%E8%AE%A4%E5%90%AF%E5%8A%A8%E7%AB%AF%E5%8F%A3%E4%B8%BA%208000%EF%BC%8C%E6%89%80%E4%BB%A5%E8%BF%99%E9%87%8C%E9%85%8D%E7%BD%AE%E6%88%90%208000%E3%80%82%0A%0A%60%60%60js%0Aexports.assets%20%3D%20%7B%0A%20%20devServer%3A%20%7B%0A%20%20%20%20command%3A%20'roadhog%20dev'%2C%0A%20%20%20%20port%3A%208000%2C%0A%20%20%7D%2C%0A%7D%3B%0A%60%60%60%0A%0A%23%23%23%20%E9%83%A8%E7%BD%B2%0A%0A%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%83%A8%E7%BD%B2%E4%B9%8B%E5%89%8D%E9%9C%80%E8%A6%81%E6%9E%84%E5%BB%BA%EF%BC%8C%E9%85%8D%E7%BD%AE%20%60roadhog%20build%60%20%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%B9%B6%E6%89%A7%E8%A1%8C%20%60npm%20run%20build%60%0A%0A%60%60%60json%0A%7B%0A%20%20%22scripts%22%3A%20%7B%0A%20%20%20%20%22build%22%3A%20%22SET_PUBLIC_PATH%3Dtrue%20roadhog%20build%22%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A**%E6%B3%A8%E6%84%8F%EF%BC%9A%E8%BF%99%E9%87%8C%E6%B7%BB%E5%8A%A0%E4%BA%86%20%60SET_PUBLIC_PATH%60%20%E5%8F%98%E9%87%8F%E6%98%AF%E5%9B%A0%E4%B8%BA%20roadhog%20%E8%BF%99%E6%A0%B7%E6%89%8D%E8%83%BD%E5%BC%80%E5%90%AF%20publicPath**%0A%0A%E6%9E%84%E5%BB%BA%E7%9A%84%E7%BB%93%E6%9E%9C%E6%A0%B9%E6%8D%AE%20%60.webpackrc%60%20%E9%85%8D%E7%BD%AE%E7%9A%84%20output%20%E5%86%B3%E5%AE%9A%EF%BC%8C%E7%A4%BA%E4%BE%8B%E6%98%AF%E6%94%BE%E5%88%B0%20%60app%2Fpublic%60%20%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%8C%E7%94%B1%20%60egg-static%60%20%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1%E3%80%82%0A%0A%E5%90%8C%E6%97%B6%E6%A0%B9%E6%8D%AE%20%60.webpackrc%60%20%E9%85%8D%E7%BD%AE%E7%9A%84%20manifest%20%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%20%60manifest.json%60%20%E6%96%87%E4%BB%B6%E5%88%B0%20%60config%60%20%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%88egg%20%E9%9C%80%E8%A6%81%E8%AF%BB%E5%8F%96%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E4%BD%9C%E4%B8%BA%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%EF%BC%89%E3%80%82%0A%0A%23%23%23%23%20%E5%BA%94%E7%94%A8%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1%0A%0A%E7%8E%B0%E5%9C%A8%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E5%90%8E%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%20%60http%3A%2F%2F127.0.0.1%3A7001%2Fpublic%2Findex.%7Bhash%7D.js%60%20%E8%AE%BF%E9%97%AE%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%EF%BC%8C%E5%8F%91%E7%8E%B0%E8%BF%99%E9%87%8C%E5%A4%9A%E4%BA%86%E4%B8%80%E5%B1%82%20public%20%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%8C%E6%89%80%E4%BB%A5%E9%9C%80%E8%A6%81%E6%B7%BB%E5%8A%A0%20publicPath%20%E9%85%8D%E7%BD%AE%E3%80%82%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.prod.js%0Aexports.assets%20%3D%20%7B%0A%20%20publicPath%3A%20'%2Fpublic%2F'%2C%0A%7D%3B%0A%60%60%60%0A%0A%23%23%23%23%20%E4%BD%BF%E7%94%A8%20CDN%0A%0A%E4%B8%80%E8%88%AC%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%83%BD%E4%BC%9A%E5%8F%91%E5%88%B0%20CDN%EF%BC%8C%E6%89%80%E4%BB%A5%E5%9C%A8%E6%9E%84%E5%BB%BA%E5%AE%8C%E6%88%90%E5%90%8E%E9%9C%80%E8%A6%81%E5%B9%B3%E5%8F%B0%E5%B0%86%E6%9E%84%E5%BB%BA%E4%BA%A7%E7%89%A9%E5%8F%91%E5%B8%83%E5%88%B0%20CDN%20%E4%B8%8A%EF%BC%8C%E5%A6%82%20%60https%3A%2F%2Fcdn%2Fmyapp%2Findex.%7Bhash%7D.js%60%E3%80%82%0A%0A%E7%8E%B0%E5%9C%A8%E9%99%A4%E4%BA%86%20publichPath%20%E8%BF%98%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%9C%B0%E5%9D%80%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.prod.js%0Aexports.assets%20%3D%20%7B%0A%20%20url%3A%20'https%3A%2F%2Fcdn'%2C%0A%20%20publicPath%3A%20'%2Fmyapp%2F'%2C%0A%7D%3B%0A%60%60%60%0A%0A%5Bwebpack%5D%3A%20https%3A%2F%2Fwebpack.js.org%2F%0A%5Broadhog%5D%3A%20https%3A%2F%2Fgithub.com%2Fsorrycc%2Froadhog%0A%5Bumi%5D%3A%20https%3A%2F%2Fumijs.org%2F%0A%5Begg-view-assets%5D%3A%20https%3A%2F%2Fgithub.com%2Feggjs%2Fegg-view-assets%0A"}}</script><script type="text/javascript" src="/static/js/post.b9faab88.js"></script></body></html>