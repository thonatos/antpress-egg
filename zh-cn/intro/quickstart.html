<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#000000"><link rel="manifest" href="/manifest.json"><link rel="shortcut icon" href="/favicon.png"><style class="_styletron_hydrate_"></style><title>快速入门</title><meta name="description" content="Born to build better enterprise frameworks and apps"><link href="/static/css/post.d62265dc.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><div class="ant-layout" data-reactroot=""><div class="header-module__header___3ADJ9 ant-layout-header"><div class="ant-row-flex"><div class="ant-col-xs-12 ant-col-md-20 ant-col-lg-2"><div class="header-module__logo___3yTXp"><a href="/"><img src="/logo.svg" alt="logo"/></a></div></div><div class="ant-col-xs-0 ant-col-md-0 ant-col-lg-20"><ul class="ant-menu header-module__menu___3yEtW ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/intro/">指南</a></li><li class="ant-menu-item" role="menuitem"><a href="/api/">API</a></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/tutorials/index.html">教程</a></li><li class="ant-menu-item" role="menuitem"><a href="https://github.com/search?q=topic%3Aegg-plugin&amp;type=Repositories">插件</a></li><li class="ant-menu-item" role="menuitem"><a href="https://github.com/eggjs/egg/releases">发布日志</a></li></ul></div><div style="text-align:right" class="ant-col-xs-12 ant-col-md-4 ant-col-lg-2"><button type="button" class="ant-btn"><span>Languages</span></button></div></div></div><div class="ant-layout-content"><div class="basic_layout-module__content___3flpY ant-layout"><div class="sider-module__side___1Cadj ant-layout-sider ant-layout-sider-light" style="flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"><ul class="ant-menu sider-module__menu___2GqPr ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="0$Menu" aria-haspopup="true"><span>新手指南</span><i class="ant-menu-submenu-arrow"></i></div><ul id="0$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/intro/index.html">Egg.js 是什么?</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/intro/egg-and-koa.html">Egg.js 和 Koa</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/intro/quickstart.html">快速入门</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/progressive.html">渐进式开发</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/migration.html">2.x 升级指南</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="1$Menu" aria-haspopup="true"><span>基础功能</span><i class="ant-menu-submenu-arrow"></i></div><ul id="1$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/structure.html">目录结构</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/objects.html">内置对象</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/env.html">运行环境</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/config.html">配置</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/middleware.html">中间件</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/router.html">Router</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/controller.html">Controller</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/service.html">Service</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/plugin.html">插件</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/schedule.html">定时任务</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/extend.html">框架扩展</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/basics/app-start.html">启动自定义</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="2$Menu" aria-haspopup="true"><span>核心功能</span><i class="ant-menu-submenu-arrow"></i></div><ul id="2$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/development.html">本地开发</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/unittest.html">单元测试</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/deployment.html">应用部署</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/logger.html">日志</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/httpclient.html">HttpClient</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/cookie-and-session.html">Cookie and Session</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/cluster-and-ipc.html">多进程模型和进程间通讯</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/view.html">模板渲染</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/error-handling.html">异常处理</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/security.html">安全</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/core/i18n.html">国际化</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="3$Menu" aria-haspopup="true"><span>教程</span><i class="ant-menu-submenu-arrow"></i></div><ul id="3$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/mysql.html">MySQL</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/restful.html">RESTful API</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/passport.html">Passport 鉴权</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/socketio.html">Socket.IO</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/assets.html">静态资源</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/tutorials/typescript.html">TypeScript</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="4$Menu" aria-haspopup="true"><span>进阶</span><i class="ant-menu-submenu-arrow"></i></div><ul id="4$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/loader.html">Loader</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/plugin.html">插件开发</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/framework.html">框架开发</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/cluster-client.html">多进程研发模式增强</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/advanced/view-plugin.html">模板插件开发规范</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/style-guide.html">代码风格指南</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="5$Menu" aria-haspopup="true"><span>社区</span><i class="ant-menu-submenu-arrow"></i></div><ul id="5$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/plugins/">内置插件列表</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/contributing.html">如何贡献</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/resource.html">资源</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/zh-cn/faq.html">常见问题</a></li></ul></li></ul></div></div><div class="basic_layout-module__post___2Z7KK ant-layout-content"><div class="ant-row" style="margin-left:-8px;margin-right:-8px"><div style="padding-left:8px;padding-right:8px" class="ant-col-xs-24 ant-col-md-18"><div class="markdown-body" style="font-size:14px"><div><p>本文将从实例的角度，一步步地搭建出一个 Egg.js 应用，让你能快速的入门 Egg.js。</p><h2 id="环境准备">环境准备</h2><ul><li>操作系统：支持 macOS，Linux，Windows</li><li>运行环境：建议选择 <a href="http://nodejs.org">LTS 版本</a>，最低要求 8.x。</li></ul><h2 id="快速初始化">快速初始化</h2><p>我们推荐直接使用脚手架，只需几条简单指令，即可快速生成项目:</p><pre><code class="language-bash">$ npm i egg-init -g
$ egg-init egg-example --type=simple
$ cd egg-example
$ npm i</code></pre><p>启动项目:</p><pre><code class="language-bash">$ npm run dev
$ open localhost:7001</code></pre><h2 id="逐步搭建">逐步搭建</h2><p>通常你可以通过上一节的方式，使用 <a href="https://github.com/eggjs/egg-init">egg-init</a> 快速选择适合对应业务模型的脚手架，快速启动 Egg.js 项目的开发。</p><p>但为了让大家更好的了解 Egg.js，接下来，我们将跳过脚手架，手动一步步的搭建出一个 <a href="https://github.com/eggjs/examples/tree/master/hackernews">Hacker News</a>。</p><p><strong>注意：实际项目中，我们推荐使用上一节的脚手架直接初始化。</strong></p><p><img alt="Egg HackerNews Snapshoot" src="https://cloud.githubusercontent.com/assets/227713/22960991/812999bc-f37d-11e6-8bd5-a96ca37d0ff2.png"/></p><h3 id="初始化项目">初始化项目</h3><p>先来初始化下目录结构：</p><pre><code class="language-bash">$ mkdir egg-example
$ cd egg-example
$ npm init
$ npm i egg --save
$ npm i egg-bin --save-dev</code></pre><p>添加 <code>npm scripts</code> 到 <code>package.json</code>：</p><pre><code class="language-json">{
  &quot;name&quot;: &quot;egg-example&quot;,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;egg-bin dev&quot;
  }
}</code></pre><h3 id="编写-controller">编写 Controller</h3><p>如果你熟悉 Web 开发或 MVC，肯定猜到我们第一步需要编写的是 <a href="../basics/controller.md">Controller</a> 和 <a href="../basics/router.md">Router</a>。</p><pre><code class="language-js">// app/controller/home.js
const Controller = require(&#x27;egg&#x27;).Controller;

class HomeController extends Controller {
  async index() {
    this.ctx.body = &#x27;Hello world&#x27;;
  }
}

module.exports = HomeController;</code></pre><p>配置路由映射：</p><pre><code class="language-js">// app/router.js
module.exports = app =&gt; {
  const { router, controller } = app;
  router.get(&#x27;/&#x27;, controller.home.index);
};</code></pre><p>加一个<a href="../basics/config.md">配置文件</a>：</p><pre><code class="language-js">// config/config.default.js
exports.keys = &lt;此处改为你自己的 Cookie 安全字符串&gt;;</code></pre><p>此时目录结构如下：</p><pre><code class="language-bash">egg-example
├── app
│   ├── controller
│   │   └── home.js
│   └── router.js
├── config
│   └── config.default.js
└── package.json</code></pre><p>完整的目录结构规范参见<a href="../basics/structure.md">目录结构</a>。</p><p>好，现在可以启动应用来体验下</p><pre><code class="language-bash">$ npm run dev
$ open localhost:7001</code></pre><blockquote><p>注意：</p><ul><li>Controller 有 <code>class</code> 和 <code>exports</code> 两种编写方式，本文示范的是前者，你可能需要参考 <a href="../basics/controller.md">Controller</a> 文档。</li><li>Config 也有 <code>module.exports</code> 和 <code>exports</code> 的写法，具体参考 <a href="https://nodejs.org/api/modules.html#modules_exports_shortcut">Node.js modules 文档</a>。</li></ul></blockquote><h3 id="静态资源">静态资源</h3><p>Egg 内置了 <a href="https://github.com/eggjs/egg-static">static</a> 插件，线上环境建议部署到 CDN，无需该插件。</p><p>static 插件默认映射 <code>/public/* -&gt; app/public/*</code> 目录</p><p>此处，我们把静态资源都放到 <code>app/public</code> 目录即可：</p><pre><code class="language-bash">app/public
├── css
│   └── news.css
└── js
    ├── lib.js
    └── news.js</code></pre><h3 id="模板渲染">模板渲染</h3><p>绝大多数情况，我们都需要读取数据后渲染模板，然后呈现给用户。故我们需要引入对应的模板引擎。</p><p>框架并不强制你使用某种模板引擎，只是约定了 <a href="../advanced/view-plugin.md">View 插件开发规范</a>，开发者可以引入不同的插件来实现差异化定制。</p><p>更多用法参见 <a href="../core/view.md">View</a>。</p><p>在本例中，我们使用 <a href="https://mozilla.github.io/nunjucks/">Nunjucks</a> 来渲染，先安装对应的插件 <a href="https://github.com/eggjs/egg-view-nunjucks">egg-view-nunjucks</a> ：</p><pre><code class="language-bash">$ npm i egg-view-nunjucks --save</code></pre><p>开启插件：</p><pre><code class="language-js">// config/plugin.js
exports.nunjucks = {
  enable: true,
  package: &#x27;egg-view-nunjucks&#x27;
};</code></pre><pre><code class="language-js">// config/config.default.js
exports.keys = &lt;此处改为你自己的 Cookie 安全字符串&gt;;
// 添加 view 配置
exports.view = {
  defaultViewEngine: &#x27;nunjucks&#x27;,
  mapping: {
    &#x27;.tpl&#x27;: &#x27;nunjucks&#x27;,
  },
};</code></pre><p><strong>注意：是 <code>config</code> 目录，不是 <code>app/config</code>!</strong></p><p>为列表页编写模板文件，一般放置在 <code>app/view</code> 目录下</p><pre><code class="language-html">&lt;!-- app/view/news/list.tpl --&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Hacker News&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;/public/css/news.css&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;ul class=&quot;news-view view&quot;&gt;
      {% for item in list %}
        &lt;li class=&quot;item&quot;&gt;
          &lt;a href=&quot;{{ item.url }}&quot;&gt;{{ item.title }}&lt;/a&gt;
        &lt;/li&gt;
      {% endfor %}
    &lt;/ul&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>添加 Controller 和 Router</p><pre><code class="language-js">// app/controller/news.js
const Controller = require(&#x27;egg&#x27;).Controller;

class NewsController extends Controller {
  async list() {
    const dataList = {
      list: [
        { id: 1, title: &#x27;this is news 1&#x27;, url: &#x27;/news/1&#x27; },
        { id: 2, title: &#x27;this is news 2&#x27;, url: &#x27;/news/2&#x27; }
      ]
    };
    await this.ctx.render(&#x27;news/list.tpl&#x27;, dataList);
  }
}

module.exports = NewsController;

// app/router.js
module.exports = app =&gt; {
  const { router, controller } = app;
  router.get(&#x27;/&#x27;, controller.home.index);
  router.get(&#x27;/news&#x27;, controller.news.list);
};</code></pre><p>启动浏览器，访问 <a href="http://localhost:7001/news">http://localhost:7001/news</a> 即可看到渲染后的页面。</p><p><strong>提示：开发期默认开启了 <a href="https://github.com/eggjs/egg-development">development</a> 插件，修改后端代码后，会自动重启 Worker 进程。</strong></p><h3 id="编写-service">编写 service</h3><p>在实际应用中，Controller 一般不会自己产出数据，也不会包含复杂的逻辑，复杂的过程应抽象为业务逻辑层 <a href="../basics/service.md">Service</a>。</p><p>我们来添加一个 Service 抓取 <a href="https://github.com/HackerNews/API">Hacker News</a> 的数据 ，如下：</p><pre><code class="language-js">// app/service/news.js
const Service = require(&#x27;egg&#x27;).Service;

class NewsService extends Service {
  async list(page = 1) {
    // read config
    const { serverUrl, pageSize } = this.config.news;

    // use build-in http client to GET hacker-news api
    const { data: idList } = await this.ctx.curl(`${serverUrl}/topstories.json`, {
      data: {
        orderBy: &#x27;&quot;$key&quot;&#x27;,
        startAt: `&quot;${pageSize * (page - 1)}&quot;`,
        endAt: `&quot;${pageSize * page - 1}&quot;`,
      },
      dataType: &#x27;json&#x27;,
    });

    // parallel GET detail
    const newsList = await Promise.all(
      Object.keys(idList).map(key =&gt; {
        const url = `${serverUrl}/item/${idList[key]}.json`;
        return this.ctx.curl(url, { dataType: &#x27;json&#x27; });
      })
    );
    return newsList.map(res =&gt; res.data);
  }
}

module.exports = NewsService;</code></pre><blockquote><p>框架提供了内置的 <a href="../core/httpclient.md">HttpClient</a> 来方便开发者使用 HTTP 请求。</p></blockquote><p>然后稍微修改下之前的 Controller：</p><pre><code class="language-js">// app/controller/news.js
const Controller = require(&#x27;egg&#x27;).Controller;

class NewsController extends Controller {
  async list() {
    const ctx = this.ctx;
    const page = ctx.query.page || 1;
    const newsList = await ctx.service.news.list(page);
    await ctx.render(&#x27;news/list.tpl&#x27;, { list: newsList });
  }
}

module.exports = NewsController;</code></pre><p>还需增加 <code>app/service/news.js</code> 中读取到的配置：</p><pre><code class="language-js">// config/config.default.js
// 添加 news 的配置项
exports.news = {
  pageSize: 5,
  serverUrl: &#x27;https://hacker-news.firebaseio.com/v0&#x27;,
};</code></pre><h3 id="编写扩展">编写扩展</h3><p>遇到一个小问题，我们的资讯时间的数据是 UnixTime 格式的，我们希望显示为便于阅读的格式。</p><p>框架提供了一种快速扩展的方式，只需在 <code>app/extend</code> 目录下提供扩展脚本即可，具体参见<a href="../basics/extend.md">扩展</a>。</p><p>在这里，我们可以使用 View 插件支持的 Helper 来实现：</p><pre><code class="language-bash">$ npm i moment --save</code></pre><pre><code class="language-js">// app/extend/helper.js
const moment = require(&#x27;moment&#x27;);
exports.relativeTime = time =&gt; moment(new Date(time * 1000)).fromNow();</code></pre><p>在模板里面使用：</p><pre><code class="language-html">&lt;!-- app/view/news/list.tpl --&gt;
{{ helper.relativeTime(item.time) }}</code></pre><h3 id="编写-middleware">编写 Middleware</h3><p>假设有个需求：我们的新闻站点，禁止百度爬虫访问。</p><p>聪明的同学们一定很快能想到可以通过 <a href="../basics/middleware.md">Middleware</a> 判断 User-Agent，如下：</p><pre><code class="language-js">// app/middleware/robot.js
// options === app.config.robot
module.exports = (options, app) =&gt; {
  return async function robotMiddleware(ctx, next) {
    const source = ctx.get(&#x27;user-agent&#x27;) || &#x27;&#x27;;
    const match = options.ua.some(ua =&gt; ua.test(source));
    if (match) {
      ctx.status = 403;
      ctx.message = &#x27;Go away, robot.&#x27;;
    } else {
      await next();
    }
  }
};

// config/config.default.js
// add middleware robot
exports.middleware = [
  &#x27;robot&#x27;
];
// robot&#x27;s configurations
exports.robot = {
  ua: [
    /Baiduspider/i,
  ]
};</code></pre><p>现在可以使用 <code>curl http://localhost:7001/news -A &quot;Baiduspider&quot;</code> 看看效果。</p><p>更多参见<a href="../basics/middleware.md">中间件</a>文档。</p><h3 id="配置文件">配置文件</h3><p>写业务的时候，不可避免的需要有配置文件，框架提供了强大的配置合并管理功能：</p><ul><li>支持按环境变量加载不同的配置文件，如 <code>config.local.js</code>， <code>config.prod.js</code> 等等。</li><li>应用/插件/框架都可以配置自己的配置文件，框架将按顺序合并加载。</li><li>具体合并逻辑可参见<a href="../basics/config.md#配置加载顺序">配置文件</a>。</li></ul><pre><code class="language-js">// config/config.default.js
exports.robot = {
  ua: [
    /curl/i,
    /Baiduspider/i,
  ],
};

// config/config.local.js
// only read at development mode, will override default
exports.robot = {
  ua: [
    /Baiduspider/i,
  ],
};

// app/service/some.js
const Service = require(&#x27;egg&#x27;).Service;

class SomeService extends Service {
  async list() {
    const rule = this.config.robot.ua;
  }
}

module.exports = SomeService;</code></pre><h3 id="单元测试">单元测试</h3><p>单元测试非常重要，框架也提供了 <a href="https://github.com/eggjs/egg-bin">egg-bin</a> 来帮开发者无痛的编写测试。</p><p>测试文件应该放在项目根目录下的 test 目录下，并以 <code>test.js</code> 为后缀名，即 <code>{app_root}/test/**/*.test.js</code>。</p><pre><code class="language-js">// test/app/middleware/robot.test.js
const { app, mock, assert } = require(&#x27;egg-mock/bootstrap&#x27;);

describe(&#x27;test/app/middleware/robot.test.js&#x27;, () =&gt; {
  it(&#x27;should block robot&#x27;, () =&gt; {
    return app.httpRequest()
      .get(&#x27;/&#x27;)
      .set(&#x27;User-Agent&#x27;, &quot;Baiduspider&quot;)
      .expect(403);
  });
});</code></pre><p>然后配置依赖和 <code>npm scripts</code>：</p><pre><code class="language-json">{
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;egg-bin test&quot;,
    &quot;cov&quot;: &quot;egg-bin cov&quot;
  }
}</code></pre><pre><code class="language-bash">$ npm i egg-mock --save-dev</code></pre><p>执行测试：</p><pre><code class="language-bash">$ npm test</code></pre><p>就这么简单，更多请参见 <a href="../core/unittest.md">单元测试</a>。</p><h2 id="后记">后记</h2><p>短短几章内容，只能讲 Egg 的冰山一角，我们建议开发者继续阅读其他章节：</p><ul><li>关于骨架类型，参见<a href="../tutorials/index.md">骨架说明</a></li><li>提供了强大的扩展机制，参见<a href="../basics/plugin.md">插件</a>。</li><li>一个大规模的团队需要遵循一定的约束和约定，在 Egg 里我们建议封装适合自己团队的上层框架，参见 <a href="../advanced/framework.md">框架开发</a>。</li><li>这是一个渐进式的框架，代码的共建，复用和下沉，竟然可以这么的无痛，建议阅读 <a href="../tutorials/progressive.md">渐进式开发</a>。</li><li>写单元测试其实很简单的事，Egg 也提供了非常多的配套辅助，我们强烈建议大家测试驱动开发，具体参见 <a href="../core/unittest.md">单元测试</a>。</li></ul></div></div></div><div style="padding-left:8px;padding-right:8px" class="ant-col-xs-0 ant-col-md-6"><div class="markdown-body" style="font-size:14px"><div><ul><li><a href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87">环境准备</a></li><li><a href="#%E5%BF%AB%E9%80%9F%E5%88%9D%E5%A7%8B%E5%8C%96">快速初始化</a></li><li><a href="#%E9%80%90%E6%AD%A5%E6%90%AD%E5%BB%BA">逐步搭建</a><ul><li><a href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE">初始化项目</a></li><li><a href="#%E7%BC%96%E5%86%99-controller">编写 Controller</a></li><li><a href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90">静态资源</a></li><li><a href="#%E6%A8%A1%E6%9D%BF%E6%B8%B2%E6%9F%93">模板渲染</a></li><li><a href="#%E7%BC%96%E5%86%99-service">编写 service</a></li><li><a href="#%E7%BC%96%E5%86%99%E6%89%A9%E5%B1%95">编写扩展</a></li><li><a href="#%E7%BC%96%E5%86%99-middleware">编写 Middleware</a></li><li><a href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">配置文件</a></li><li><a href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95">单元测试</a></li></ul></li><li><a href="#%E5%90%8E%E8%AE%B0">后记</a></li></ul></div></div></div></div></div></div></div></div></div><script type="text/javascript">window.__INIT_STATE__={"lang":"zh","props":{"toc":"-%20%5B%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87%5D(%23%25E7%258E%25AF%25E5%25A2%2583%25E5%2587%2586%25E5%25A4%2587)%0A-%20%5B%E5%BF%AB%E9%80%9F%E5%88%9D%E5%A7%8B%E5%8C%96%5D(%23%25E5%25BF%25AB%25E9%2580%259F%25E5%2588%259D%25E5%25A7%258B%25E5%258C%2596)%0A-%20%5B%E9%80%90%E6%AD%A5%E6%90%AD%E5%BB%BA%5D(%23%25E9%2580%2590%25E6%25AD%25A5%25E6%2590%25AD%25E5%25BB%25BA)%0A%20%20*%20%5B%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE%5D(%23%25E5%2588%259D%25E5%25A7%258B%25E5%258C%2596%25E9%25A1%25B9%25E7%259B%25AE)%0A%20%20*%20%5B%E7%BC%96%E5%86%99%20Controller%5D(%23%25E7%25BC%2596%25E5%2586%2599-controller)%0A%20%20*%20%5B%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%5D(%23%25E9%259D%2599%25E6%2580%2581%25E8%25B5%2584%25E6%25BA%2590)%0A%20%20*%20%5B%E6%A8%A1%E6%9D%BF%E6%B8%B2%E6%9F%93%5D(%23%25E6%25A8%25A1%25E6%259D%25BF%25E6%25B8%25B2%25E6%259F%2593)%0A%20%20*%20%5B%E7%BC%96%E5%86%99%20service%5D(%23%25E7%25BC%2596%25E5%2586%2599-service)%0A%20%20*%20%5B%E7%BC%96%E5%86%99%E6%89%A9%E5%B1%95%5D(%23%25E7%25BC%2596%25E5%2586%2599%25E6%2589%25A9%25E5%25B1%2595)%0A%20%20*%20%5B%E7%BC%96%E5%86%99%20Middleware%5D(%23%25E7%25BC%2596%25E5%2586%2599-middleware)%0A%20%20*%20%5B%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%5D(%23%25E9%2585%258D%25E7%25BD%25AE%25E6%2596%2587%25E4%25BB%25B6)%0A%20%20*%20%5B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%5D(%23%25E5%258D%2595%25E5%2585%2583%25E6%25B5%258B%25E8%25AF%2595)%0A-%20%5B%E5%90%8E%E8%AE%B0%5D(%23%25E5%2590%258E%25E8%25AE%25B0)","meta":{"info":{"title":"快速入门"}},"content":"%0A%0A%0A%E6%9C%AC%E6%96%87%E5%B0%86%E4%BB%8E%E5%AE%9E%E4%BE%8B%E7%9A%84%E8%A7%92%E5%BA%A6%EF%BC%8C%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%9C%B0%E6%90%AD%E5%BB%BA%E5%87%BA%E4%B8%80%E4%B8%AA%20Egg.js%20%E5%BA%94%E7%94%A8%EF%BC%8C%E8%AE%A9%E4%BD%A0%E8%83%BD%E5%BF%AB%E9%80%9F%E7%9A%84%E5%85%A5%E9%97%A8%20Egg.js%E3%80%82%0A%0A%23%23%20%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87%0A%0A-%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%9A%E6%94%AF%E6%8C%81%20macOS%EF%BC%8CLinux%EF%BC%8CWindows%0A-%20%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83%EF%BC%9A%E5%BB%BA%E8%AE%AE%E9%80%89%E6%8B%A9%20%5BLTS%20%E7%89%88%E6%9C%AC%5D%5BNode.js%5D%EF%BC%8C%E6%9C%80%E4%BD%8E%E8%A6%81%E6%B1%82%208.x%E3%80%82%0A%0A%23%23%20%E5%BF%AB%E9%80%9F%E5%88%9D%E5%A7%8B%E5%8C%96%0A%0A%E6%88%91%E4%BB%AC%E6%8E%A8%E8%8D%90%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%EF%BC%8C%E5%8F%AA%E9%9C%80%E5%87%A0%E6%9D%A1%E7%AE%80%E5%8D%95%E6%8C%87%E4%BB%A4%EF%BC%8C%E5%8D%B3%E5%8F%AF%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E9%A1%B9%E7%9B%AE%3A%0A%0A%60%60%60bash%0A%24%20npm%20i%20egg-init%20-g%0A%24%20egg-init%20egg-example%20--type%3Dsimple%0A%24%20cd%20egg-example%0A%24%20npm%20i%0A%60%60%60%0A%0A%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE%3A%0A%0A%60%60%60bash%0A%24%20npm%20run%20dev%0A%24%20open%20localhost%3A7001%0A%60%60%60%0A%0A%23%23%20%E9%80%90%E6%AD%A5%E6%90%AD%E5%BB%BA%0A%0A%E9%80%9A%E5%B8%B8%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%B8%8A%E4%B8%80%E8%8A%82%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E4%BD%BF%E7%94%A8%20%5Begg-init%5D%20%E5%BF%AB%E9%80%9F%E9%80%89%E6%8B%A9%E9%80%82%E5%90%88%E5%AF%B9%E5%BA%94%E4%B8%9A%E5%8A%A1%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6%EF%BC%8C%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%20Egg.js%20%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%BC%80%E5%8F%91%E3%80%82%0A%0A%E4%BD%86%E4%B8%BA%E4%BA%86%E8%AE%A9%E5%A4%A7%E5%AE%B6%E6%9B%B4%E5%A5%BD%E7%9A%84%E4%BA%86%E8%A7%A3%20Egg.js%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%86%E8%B7%B3%E8%BF%87%E8%84%9A%E6%89%8B%E6%9E%B6%EF%BC%8C%E6%89%8B%E5%8A%A8%E4%B8%80%E6%AD%A5%E6%AD%A5%E7%9A%84%E6%90%AD%E5%BB%BA%E5%87%BA%E4%B8%80%E4%B8%AA%20%5BHacker%20News%5D(https%3A%2F%2Fgithub.com%2Feggjs%2Fexamples%2Ftree%2Fmaster%2Fhackernews)%E3%80%82%0A%0A**%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%AE%9E%E9%99%85%E9%A1%B9%E7%9B%AE%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E4%B8%8A%E4%B8%80%E8%8A%82%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6%E7%9B%B4%E6%8E%A5%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82**%0A%0A!%5BEgg%20HackerNews%20Snapshoot%5D(https%3A%2F%2Fcloud.githubusercontent.com%2Fassets%2F227713%2F22960991%2F812999bc-f37d-11e6-8bd5-a96ca37d0ff2.png)%0A%0A%23%23%23%20%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE%0A%0A%E5%85%88%E6%9D%A5%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%8B%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%EF%BC%9A%0A%0A%60%60%60bash%0A%24%20mkdir%20egg-example%0A%24%20cd%20egg-example%0A%24%20npm%20init%0A%24%20npm%20i%20egg%20--save%0A%24%20npm%20i%20egg-bin%20--save-dev%0A%60%60%60%0A%0A%E6%B7%BB%E5%8A%A0%20%60npm%20scripts%60%20%E5%88%B0%20%60package.json%60%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%22name%22%3A%20%22egg-example%22%2C%0A%20%20%22scripts%22%3A%20%7B%0A%20%20%20%20%22dev%22%3A%20%22egg-bin%20dev%22%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%23%23%23%20%E7%BC%96%E5%86%99%20Controller%0A%0A%E5%A6%82%E6%9E%9C%E4%BD%A0%E7%86%9F%E6%82%89%20Web%20%E5%BC%80%E5%8F%91%E6%88%96%20MVC%EF%BC%8C%E8%82%AF%E5%AE%9A%E7%8C%9C%E5%88%B0%E6%88%91%E4%BB%AC%E7%AC%AC%E4%B8%80%E6%AD%A5%E9%9C%80%E8%A6%81%E7%BC%96%E5%86%99%E7%9A%84%E6%98%AF%20%5BController%5D(..%2Fbasics%2Fcontroller.md)%20%E5%92%8C%20%5BRouter%5D(..%2Fbasics%2Frouter.md)%E3%80%82%0A%0A%60%60%60js%0A%2F%2F%20app%2Fcontroller%2Fhome.js%0Aconst%20Controller%20%3D%20require('egg').Controller%3B%0A%0Aclass%20HomeController%20extends%20Controller%20%7B%0A%20%20async%20index()%20%7B%0A%20%20%20%20this.ctx.body%20%3D%20'Hello%20world'%3B%0A%20%20%7D%0A%7D%0A%0Amodule.exports%20%3D%20HomeController%3B%0A%60%60%60%0A%0A%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1%E6%98%A0%E5%B0%84%EF%BC%9A%0A%0A%60%60%60js%0A%2F%2F%20app%2Frouter.js%0Amodule.exports%20%3D%20app%20%3D%3E%20%7B%0A%20%20const%20%7B%20router%2C%20controller%20%7D%20%3D%20app%3B%0A%20%20router.get('%2F'%2C%20controller.home.index)%3B%0A%7D%3B%0A%60%60%60%0A%0A%E5%8A%A0%E4%B8%80%E4%B8%AA%5B%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%5D(..%2Fbasics%2Fconfig.md)%EF%BC%9A%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.default.js%0Aexports.keys%20%3D%20%3C%E6%AD%A4%E5%A4%84%E6%94%B9%E4%B8%BA%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%20Cookie%20%E5%AE%89%E5%85%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%3E%3B%0A%60%60%60%0A%0A%E6%AD%A4%E6%97%B6%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60bash%0Aegg-example%0A%E2%94%9C%E2%94%80%E2%94%80%20app%0A%E2%94%82%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20controller%0A%E2%94%82%20%20%20%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20home.js%0A%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20router.js%0A%E2%94%9C%E2%94%80%E2%94%80%20config%0A%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20config.default.js%0A%E2%94%94%E2%94%80%E2%94%80%20package.json%0A%60%60%60%0A%0A%E5%AE%8C%E6%95%B4%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E8%A7%84%E8%8C%83%E5%8F%82%E8%A7%81%5B%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%5D(..%2Fbasics%2Fstructure.md)%E3%80%82%0A%0A%E5%A5%BD%EF%BC%8C%E7%8E%B0%E5%9C%A8%E5%8F%AF%E4%BB%A5%E5%90%AF%E5%8A%A8%E5%BA%94%E7%94%A8%E6%9D%A5%E4%BD%93%E9%AA%8C%E4%B8%8B%0A%0A%60%60%60bash%0A%24%20npm%20run%20dev%0A%24%20open%20localhost%3A7001%0A%60%60%60%0A%0A%3E%20%E6%B3%A8%E6%84%8F%EF%BC%9A%0A%3E%0A%3E%20-%20Controller%20%E6%9C%89%20%60class%60%20%E5%92%8C%20%60exports%60%20%E4%B8%A4%E7%A7%8D%E7%BC%96%E5%86%99%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%9C%AC%E6%96%87%E7%A4%BA%E8%8C%83%E7%9A%84%E6%98%AF%E5%89%8D%E8%80%85%EF%BC%8C%E4%BD%A0%E5%8F%AF%E8%83%BD%E9%9C%80%E8%A6%81%E5%8F%82%E8%80%83%20%5BController%5D(..%2Fbasics%2Fcontroller.md)%20%E6%96%87%E6%A1%A3%E3%80%82%0A%3E%20-%20Config%20%E4%B9%9F%E6%9C%89%20%60module.exports%60%20%E5%92%8C%20%60exports%60%20%E7%9A%84%E5%86%99%E6%B3%95%EF%BC%8C%E5%85%B7%E4%BD%93%E5%8F%82%E8%80%83%20%5BNode.js%20modules%20%E6%96%87%E6%A1%A3%5D(https%3A%2F%2Fnodejs.org%2Fapi%2Fmodules.html%23modules_exports_shortcut)%E3%80%82%0A%0A%23%23%23%20%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%0A%0AEgg%20%E5%86%85%E7%BD%AE%E4%BA%86%20%5Bstatic%5D%5Begg-static%5D%20%E6%8F%92%E4%BB%B6%EF%BC%8C%E7%BA%BF%E4%B8%8A%E7%8E%AF%E5%A2%83%E5%BB%BA%E8%AE%AE%E9%83%A8%E7%BD%B2%E5%88%B0%20CDN%EF%BC%8C%E6%97%A0%E9%9C%80%E8%AF%A5%E6%8F%92%E4%BB%B6%E3%80%82%0A%0Astatic%20%E6%8F%92%E4%BB%B6%E9%BB%98%E8%AE%A4%E6%98%A0%E5%B0%84%20%60%2Fpublic%2F*%20-%3E%20app%2Fpublic%2F*%60%20%E7%9B%AE%E5%BD%95%0A%0A%E6%AD%A4%E5%A4%84%EF%BC%8C%E6%88%91%E4%BB%AC%E6%8A%8A%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%83%BD%E6%94%BE%E5%88%B0%20%60app%2Fpublic%60%20%E7%9B%AE%E5%BD%95%E5%8D%B3%E5%8F%AF%EF%BC%9A%0A%0A%60%60%60bash%0Aapp%2Fpublic%0A%E2%94%9C%E2%94%80%E2%94%80%20css%0A%E2%94%82%20%20%20%E2%94%94%E2%94%80%E2%94%80%20news.css%0A%E2%94%94%E2%94%80%E2%94%80%20js%0A%20%20%20%20%E2%94%9C%E2%94%80%E2%94%80%20lib.js%0A%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%20news.js%0A%60%60%60%0A%0A%23%23%23%20%E6%A8%A1%E6%9D%BF%E6%B8%B2%E6%9F%93%0A%0A%E7%BB%9D%E5%A4%A7%E5%A4%9A%E6%95%B0%E6%83%85%E5%86%B5%EF%BC%8C%E6%88%91%E4%BB%AC%E9%83%BD%E9%9C%80%E8%A6%81%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E5%90%8E%E6%B8%B2%E6%9F%93%E6%A8%A1%E6%9D%BF%EF%BC%8C%E7%84%B6%E5%90%8E%E5%91%88%E7%8E%B0%E7%BB%99%E7%94%A8%E6%88%B7%E3%80%82%E6%95%85%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5%E5%AF%B9%E5%BA%94%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E3%80%82%0A%0A%E6%A1%86%E6%9E%B6%E5%B9%B6%E4%B8%8D%E5%BC%BA%E5%88%B6%E4%BD%A0%E4%BD%BF%E7%94%A8%E6%9F%90%E7%A7%8D%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%EF%BC%8C%E5%8F%AA%E6%98%AF%E7%BA%A6%E5%AE%9A%E4%BA%86%20%5BView%20%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83%5D(..%2Fadvanced%2Fview-plugin.md)%EF%BC%8C%E5%BC%80%E5%8F%91%E8%80%85%E5%8F%AF%E4%BB%A5%E5%BC%95%E5%85%A5%E4%B8%8D%E5%90%8C%E7%9A%84%E6%8F%92%E4%BB%B6%E6%9D%A5%E5%AE%9E%E7%8E%B0%E5%B7%AE%E5%BC%82%E5%8C%96%E5%AE%9A%E5%88%B6%E3%80%82%0A%0A%E6%9B%B4%E5%A4%9A%E7%94%A8%E6%B3%95%E5%8F%82%E8%A7%81%20%5BView%5D(..%2Fcore%2Fview.md)%E3%80%82%0A%0A%E5%9C%A8%E6%9C%AC%E4%BE%8B%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%20%5BNunjucks%5D%20%E6%9D%A5%E6%B8%B2%E6%9F%93%EF%BC%8C%E5%85%88%E5%AE%89%E8%A3%85%E5%AF%B9%E5%BA%94%E7%9A%84%E6%8F%92%E4%BB%B6%20%5Begg-view-nunjucks%5D%20%EF%BC%9A%0A%0A%60%60%60bash%0A%24%20npm%20i%20egg-view-nunjucks%20--save%0A%60%60%60%0A%0A%E5%BC%80%E5%90%AF%E6%8F%92%E4%BB%B6%EF%BC%9A%0A%0A%60%60%60js%0A%2F%2F%20config%2Fplugin.js%0Aexports.nunjucks%20%3D%20%7B%0A%20%20enable%3A%20true%2C%0A%20%20package%3A%20'egg-view-nunjucks'%0A%7D%3B%0A%60%60%60%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.default.js%0Aexports.keys%20%3D%20%3C%E6%AD%A4%E5%A4%84%E6%94%B9%E4%B8%BA%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%20Cookie%20%E5%AE%89%E5%85%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%3E%3B%0A%2F%2F%20%E6%B7%BB%E5%8A%A0%20view%20%E9%85%8D%E7%BD%AE%0Aexports.view%20%3D%20%7B%0A%20%20defaultViewEngine%3A%20'nunjucks'%2C%0A%20%20mapping%3A%20%7B%0A%20%20%20%20'.tpl'%3A%20'nunjucks'%2C%0A%20%20%7D%2C%0A%7D%3B%0A%60%60%60%0A%0A**%E6%B3%A8%E6%84%8F%EF%BC%9A%E6%98%AF%20%60config%60%20%E7%9B%AE%E5%BD%95%EF%BC%8C%E4%B8%8D%E6%98%AF%20%60app%2Fconfig%60!**%0A%0A%E4%B8%BA%E5%88%97%E8%A1%A8%E9%A1%B5%E7%BC%96%E5%86%99%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6%EF%BC%8C%E4%B8%80%E8%88%AC%E6%94%BE%E7%BD%AE%E5%9C%A8%20%60app%2Fview%60%20%E7%9B%AE%E5%BD%95%E4%B8%8B%0A%0A%60%60%60%20html%0A%3C!--%20app%2Fview%2Fnews%2Flist.tpl%20--%3E%0A%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3EHacker%20News%3C%2Ftitle%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22%2Fpublic%2Fcss%2Fnews.css%22%20%2F%3E%0A%20%20%3C%2Fhead%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cul%20class%3D%22news-view%20view%22%3E%0A%20%20%20%20%20%20%7B%25%20for%20item%20in%20list%20%25%7D%0A%20%20%20%20%20%20%20%20%3Cli%20class%3D%22item%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22%7B%7B%20item.url%20%7D%7D%22%3E%7B%7B%20item.title%20%7D%7D%3C%2Fa%3E%0A%20%20%20%20%20%20%20%20%3C%2Fli%3E%0A%20%20%20%20%20%20%7B%25%20endfor%20%25%7D%0A%20%20%20%20%3C%2Ful%3E%0A%20%20%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A%60%60%60%0A%0A%E6%B7%BB%E5%8A%A0%20Controller%20%E5%92%8C%20Router%0A%0A%60%60%60js%0A%2F%2F%20app%2Fcontroller%2Fnews.js%0Aconst%20Controller%20%3D%20require('egg').Controller%3B%0A%0Aclass%20NewsController%20extends%20Controller%20%7B%0A%20%20async%20list()%20%7B%0A%20%20%20%20const%20dataList%20%3D%20%7B%0A%20%20%20%20%20%20list%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20id%3A%201%2C%20title%3A%20'this%20is%20news%201'%2C%20url%3A%20'%2Fnews%2F1'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20id%3A%202%2C%20title%3A%20'this%20is%20news%202'%2C%20url%3A%20'%2Fnews%2F2'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%3B%0A%20%20%20%20await%20this.ctx.render('news%2Flist.tpl'%2C%20dataList)%3B%0A%20%20%7D%0A%7D%0A%0Amodule.exports%20%3D%20NewsController%3B%0A%0A%2F%2F%20app%2Frouter.js%0Amodule.exports%20%3D%20app%20%3D%3E%20%7B%0A%20%20const%20%7B%20router%2C%20controller%20%7D%20%3D%20app%3B%0A%20%20router.get('%2F'%2C%20controller.home.index)%3B%0A%20%20router.get('%2Fnews'%2C%20controller.news.list)%3B%0A%7D%3B%0A%60%60%60%0A%0A%E5%90%AF%E5%8A%A8%E6%B5%8F%E8%A7%88%E5%99%A8%EF%BC%8C%E8%AE%BF%E9%97%AE%20http%3A%2F%2Flocalhost%3A7001%2Fnews%20%E5%8D%B3%E5%8F%AF%E7%9C%8B%E5%88%B0%E6%B8%B2%E6%9F%93%E5%90%8E%E7%9A%84%E9%A1%B5%E9%9D%A2%E3%80%82%0A%0A**%E6%8F%90%E7%A4%BA%EF%BC%9A%E5%BC%80%E5%8F%91%E6%9C%9F%E9%BB%98%E8%AE%A4%E5%BC%80%E5%90%AF%E4%BA%86%20%5Bdevelopment%5D%5Begg-development%5D%20%E6%8F%92%E4%BB%B6%EF%BC%8C%E4%BF%AE%E6%94%B9%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%90%8E%EF%BC%8C%E4%BC%9A%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF%20Worker%20%E8%BF%9B%E7%A8%8B%E3%80%82**%0A%0A%23%23%23%20%E7%BC%96%E5%86%99%20service%0A%0A%E5%9C%A8%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E4%B8%AD%EF%BC%8CController%20%E4%B8%80%E8%88%AC%E4%B8%8D%E4%BC%9A%E8%87%AA%E5%B7%B1%E4%BA%A7%E5%87%BA%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%B9%9F%E4%B8%8D%E4%BC%9A%E5%8C%85%E5%90%AB%E5%A4%8D%E6%9D%82%E7%9A%84%E9%80%BB%E8%BE%91%EF%BC%8C%E5%A4%8D%E6%9D%82%E7%9A%84%E8%BF%87%E7%A8%8B%E5%BA%94%E6%8A%BD%E8%B1%A1%E4%B8%BA%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%B1%82%20%5BService%5D(..%2Fbasics%2Fservice.md)%E3%80%82%0A%0A%E6%88%91%E4%BB%AC%E6%9D%A5%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%20Service%20%E6%8A%93%E5%8F%96%20%5BHacker%20News%5D(https%3A%2F%2Fgithub.com%2FHackerNews%2FAPI)%20%E7%9A%84%E6%95%B0%E6%8D%AE%20%EF%BC%8C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60js%0A%2F%2F%20app%2Fservice%2Fnews.js%0Aconst%20Service%20%3D%20require('egg').Service%3B%0A%0Aclass%20NewsService%20extends%20Service%20%7B%0A%20%20async%20list(page%20%3D%201)%20%7B%0A%20%20%20%20%2F%2F%20read%20config%0A%20%20%20%20const%20%7B%20serverUrl%2C%20pageSize%20%7D%20%3D%20this.config.news%3B%0A%0A%20%20%20%20%2F%2F%20use%20build-in%20http%20client%20to%20GET%20hacker-news%20api%0A%20%20%20%20const%20%7B%20data%3A%20idList%20%7D%20%3D%20await%20this.ctx.curl(%60%24%7BserverUrl%7D%2Ftopstories.json%60%2C%20%7B%0A%20%20%20%20%20%20data%3A%20%7B%0A%20%20%20%20%20%20%20%20orderBy%3A%20'%22%24key%22'%2C%0A%20%20%20%20%20%20%20%20startAt%3A%20%60%22%24%7BpageSize%20*%20(page%20-%201)%7D%22%60%2C%0A%20%20%20%20%20%20%20%20endAt%3A%20%60%22%24%7BpageSize%20*%20page%20-%201%7D%22%60%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20dataType%3A%20'json'%2C%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20parallel%20GET%20detail%0A%20%20%20%20const%20newsList%20%3D%20await%20Promise.all(%0A%20%20%20%20%20%20Object.keys(idList).map(key%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20url%20%3D%20%60%24%7BserverUrl%7D%2Fitem%2F%24%7BidList%5Bkey%5D%7D.json%60%3B%0A%20%20%20%20%20%20%20%20return%20this.ctx.curl(url%2C%20%7B%20dataType%3A%20'json'%20%7D)%3B%0A%20%20%20%20%20%20%7D)%0A%20%20%20%20)%3B%0A%20%20%20%20return%20newsList.map(res%20%3D%3E%20res.data)%3B%0A%20%20%7D%0A%7D%0A%0Amodule.exports%20%3D%20NewsService%3B%0A%60%60%60%0A%0A%3E%20%E6%A1%86%E6%9E%B6%E6%8F%90%E4%BE%9B%E4%BA%86%E5%86%85%E7%BD%AE%E7%9A%84%20%5BHttpClient%5D(..%2Fcore%2Fhttpclient.md)%20%E6%9D%A5%E6%96%B9%E4%BE%BF%E5%BC%80%E5%8F%91%E8%80%85%E4%BD%BF%E7%94%A8%20HTTP%20%E8%AF%B7%E6%B1%82%E3%80%82%0A%0A%E7%84%B6%E5%90%8E%E7%A8%8D%E5%BE%AE%E4%BF%AE%E6%94%B9%E4%B8%8B%E4%B9%8B%E5%89%8D%E7%9A%84%20Controller%EF%BC%9A%0A%0A%60%60%60js%0A%2F%2F%20app%2Fcontroller%2Fnews.js%0Aconst%20Controller%20%3D%20require('egg').Controller%3B%0A%0Aclass%20NewsController%20extends%20Controller%20%7B%0A%20%20async%20list()%20%7B%0A%20%20%20%20const%20ctx%20%3D%20this.ctx%3B%0A%20%20%20%20const%20page%20%3D%20ctx.query.page%20%7C%7C%201%3B%0A%20%20%20%20const%20newsList%20%3D%20await%20ctx.service.news.list(page)%3B%0A%20%20%20%20await%20ctx.render('news%2Flist.tpl'%2C%20%7B%20list%3A%20newsList%20%7D)%3B%0A%20%20%7D%0A%7D%0A%0Amodule.exports%20%3D%20NewsController%3B%0A%60%60%60%0A%0A%E8%BF%98%E9%9C%80%E5%A2%9E%E5%8A%A0%20%60app%2Fservice%2Fnews.js%60%20%E4%B8%AD%E8%AF%BB%E5%8F%96%E5%88%B0%E7%9A%84%E9%85%8D%E7%BD%AE%EF%BC%9A%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.default.js%0A%2F%2F%20%E6%B7%BB%E5%8A%A0%20news%20%E7%9A%84%E9%85%8D%E7%BD%AE%E9%A1%B9%0Aexports.news%20%3D%20%7B%0A%20%20pageSize%3A%205%2C%0A%20%20serverUrl%3A%20'https%3A%2F%2Fhacker-news.firebaseio.com%2Fv0'%2C%0A%7D%3B%0A%60%60%60%0A%0A%23%23%23%20%E7%BC%96%E5%86%99%E6%89%A9%E5%B1%95%0A%0A%E9%81%87%E5%88%B0%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98%EF%BC%8C%E6%88%91%E4%BB%AC%E7%9A%84%E8%B5%84%E8%AE%AF%E6%97%B6%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%20UnixTime%20%E6%A0%BC%E5%BC%8F%E7%9A%84%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B8%8C%E6%9C%9B%E6%98%BE%E7%A4%BA%E4%B8%BA%E4%BE%BF%E4%BA%8E%E9%98%85%E8%AF%BB%E7%9A%84%E6%A0%BC%E5%BC%8F%E3%80%82%0A%0A%E6%A1%86%E6%9E%B6%E6%8F%90%E4%BE%9B%E4%BA%86%E4%B8%80%E7%A7%8D%E5%BF%AB%E9%80%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E5%8F%AA%E9%9C%80%E5%9C%A8%20%60app%2Fextend%60%20%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%8F%90%E4%BE%9B%E6%89%A9%E5%B1%95%E8%84%9A%E6%9C%AC%E5%8D%B3%E5%8F%AF%EF%BC%8C%E5%85%B7%E4%BD%93%E5%8F%82%E8%A7%81%5B%E6%89%A9%E5%B1%95%5D(..%2Fbasics%2Fextend.md)%E3%80%82%0A%0A%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%20View%20%E6%8F%92%E4%BB%B6%E6%94%AF%E6%8C%81%E7%9A%84%20Helper%20%E6%9D%A5%E5%AE%9E%E7%8E%B0%EF%BC%9A%0A%0A%60%60%60bash%0A%24%20npm%20i%20moment%20--save%0A%60%60%60%0A%0A%60%60%60js%0A%2F%2F%20app%2Fextend%2Fhelper.js%0Aconst%20moment%20%3D%20require('moment')%3B%0Aexports.relativeTime%20%3D%20time%20%3D%3E%20moment(new%20Date(time%20*%201000)).fromNow()%3B%0A%60%60%60%0A%0A%E5%9C%A8%E6%A8%A1%E6%9D%BF%E9%87%8C%E9%9D%A2%E4%BD%BF%E7%94%A8%EF%BC%9A%0A%0A%60%60%60%20html%0A%3C!--%20app%2Fview%2Fnews%2Flist.tpl%20--%3E%0A%7B%7B%20helper.relativeTime(item.time)%20%7D%7D%0A%60%60%60%0A%0A%23%23%23%20%E7%BC%96%E5%86%99%20Middleware%0A%0A%E5%81%87%E8%AE%BE%E6%9C%89%E4%B8%AA%E9%9C%80%E6%B1%82%EF%BC%9A%E6%88%91%E4%BB%AC%E7%9A%84%E6%96%B0%E9%97%BB%E7%AB%99%E7%82%B9%EF%BC%8C%E7%A6%81%E6%AD%A2%E7%99%BE%E5%BA%A6%E7%88%AC%E8%99%AB%E8%AE%BF%E9%97%AE%E3%80%82%0A%0A%E8%81%AA%E6%98%8E%E7%9A%84%E5%90%8C%E5%AD%A6%E4%BB%AC%E4%B8%80%E5%AE%9A%E5%BE%88%E5%BF%AB%E8%83%BD%E6%83%B3%E5%88%B0%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%20%5BMiddleware%5D(..%2Fbasics%2Fmiddleware.md)%20%E5%88%A4%E6%96%AD%20User-Agent%EF%BC%8C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%60%60%60js%0A%2F%2F%20app%2Fmiddleware%2Frobot.js%0A%2F%2F%20options%20%3D%3D%3D%20app.config.robot%0Amodule.exports%20%3D%20(options%2C%20app)%20%3D%3E%20%7B%0A%20%20return%20async%20function%20robotMiddleware(ctx%2C%20next)%20%7B%0A%20%20%20%20const%20source%20%3D%20ctx.get('user-agent')%20%7C%7C%20''%3B%0A%20%20%20%20const%20match%20%3D%20options.ua.some(ua%20%3D%3E%20ua.test(source))%3B%0A%20%20%20%20if%20(match)%20%7B%0A%20%20%20%20%20%20ctx.status%20%3D%20403%3B%0A%20%20%20%20%20%20ctx.message%20%3D%20'Go%20away%2C%20robot.'%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20await%20next()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2F%20config%2Fconfig.default.js%0A%2F%2F%20add%20middleware%20robot%0Aexports.middleware%20%3D%20%5B%0A%20%20'robot'%0A%5D%3B%0A%2F%2F%20robot's%20configurations%0Aexports.robot%20%3D%20%7B%0A%20%20ua%3A%20%5B%0A%20%20%20%20%2FBaiduspider%2Fi%2C%0A%20%20%5D%0A%7D%3B%0A%60%60%60%0A%0A%E7%8E%B0%E5%9C%A8%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%20%60curl%20http%3A%2F%2Flocalhost%3A7001%2Fnews%20-A%20%22Baiduspider%22%60%20%E7%9C%8B%E7%9C%8B%E6%95%88%E6%9E%9C%E3%80%82%0A%0A%E6%9B%B4%E5%A4%9A%E5%8F%82%E8%A7%81%5B%E4%B8%AD%E9%97%B4%E4%BB%B6%5D(..%2Fbasics%2Fmiddleware.md)%E6%96%87%E6%A1%A3%E3%80%82%0A%0A%23%23%23%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%0A%0A%E5%86%99%E4%B8%9A%E5%8A%A1%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E4%B8%8D%E5%8F%AF%E9%81%BF%E5%85%8D%E7%9A%84%E9%9C%80%E8%A6%81%E6%9C%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E6%A1%86%E6%9E%B6%E6%8F%90%E4%BE%9B%E4%BA%86%E5%BC%BA%E5%A4%A7%E7%9A%84%E9%85%8D%E7%BD%AE%E5%90%88%E5%B9%B6%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%EF%BC%9A%0A%0A-%20%E6%94%AF%E6%8C%81%E6%8C%89%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%8A%A0%E8%BD%BD%E4%B8%8D%E5%90%8C%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E5%A6%82%20%60config.local.js%60%EF%BC%8C%20%60config.prod.js%60%20%E7%AD%89%E7%AD%89%E3%80%82%0A-%20%E5%BA%94%E7%94%A8%2F%E6%8F%92%E4%BB%B6%2F%E6%A1%86%E6%9E%B6%E9%83%BD%E5%8F%AF%E4%BB%A5%E9%85%8D%E7%BD%AE%E8%87%AA%E5%B7%B1%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E6%A1%86%E6%9E%B6%E5%B0%86%E6%8C%89%E9%A1%BA%E5%BA%8F%E5%90%88%E5%B9%B6%E5%8A%A0%E8%BD%BD%E3%80%82%0A-%20%E5%85%B7%E4%BD%93%E5%90%88%E5%B9%B6%E9%80%BB%E8%BE%91%E5%8F%AF%E5%8F%82%E8%A7%81%5B%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%5D(..%2Fbasics%2Fconfig.md%23%E9%85%8D%E7%BD%AE%E5%8A%A0%E8%BD%BD%E9%A1%BA%E5%BA%8F)%E3%80%82%0A%0A%60%60%60js%0A%2F%2F%20config%2Fconfig.default.js%0Aexports.robot%20%3D%20%7B%0A%20%20ua%3A%20%5B%0A%20%20%20%20%2Fcurl%2Fi%2C%0A%20%20%20%20%2FBaiduspider%2Fi%2C%0A%20%20%5D%2C%0A%7D%3B%0A%0A%2F%2F%20config%2Fconfig.local.js%0A%2F%2F%20only%20read%20at%20development%20mode%2C%20will%20override%20default%0Aexports.robot%20%3D%20%7B%0A%20%20ua%3A%20%5B%0A%20%20%20%20%2FBaiduspider%2Fi%2C%0A%20%20%5D%2C%0A%7D%3B%0A%0A%2F%2F%20app%2Fservice%2Fsome.js%0Aconst%20Service%20%3D%20require('egg').Service%3B%0A%0Aclass%20SomeService%20extends%20Service%20%7B%0A%20%20async%20list()%20%7B%0A%20%20%20%20const%20rule%20%3D%20this.config.robot.ua%3B%0A%20%20%7D%0A%7D%0A%0Amodule.exports%20%3D%20SomeService%3B%0A%60%60%60%0A%0A%23%23%23%20%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%0A%0A%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81%EF%BC%8C%E6%A1%86%E6%9E%B6%E4%B9%9F%E6%8F%90%E4%BE%9B%E4%BA%86%20%5Begg-bin%5D%20%E6%9D%A5%E5%B8%AE%E5%BC%80%E5%8F%91%E8%80%85%E6%97%A0%E7%97%9B%E7%9A%84%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E3%80%82%0A%0A%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B6%E5%BA%94%E8%AF%A5%E6%94%BE%E5%9C%A8%E9%A1%B9%E7%9B%AE%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%20test%20%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%8C%E5%B9%B6%E4%BB%A5%20%60test.js%60%20%E4%B8%BA%E5%90%8E%E7%BC%80%E5%90%8D%EF%BC%8C%E5%8D%B3%20%60%7Bapp_root%7D%2Ftest%2F**%2F*.test.js%60%E3%80%82%0A%0A%60%60%60js%0A%2F%2F%20test%2Fapp%2Fmiddleware%2Frobot.test.js%0Aconst%20%7B%20app%2C%20mock%2C%20assert%20%7D%20%3D%20require('egg-mock%2Fbootstrap')%3B%0A%0Adescribe('test%2Fapp%2Fmiddleware%2Frobot.test.js'%2C%20()%20%3D%3E%20%7B%0A%20%20it('should%20block%20robot'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20return%20app.httpRequest()%0A%20%20%20%20%20%20.get('%2F')%0A%20%20%20%20%20%20.set('User-Agent'%2C%20%22Baiduspider%22)%0A%20%20%20%20%20%20.expect(403)%3B%0A%20%20%7D)%3B%0A%7D)%3B%0A%60%60%60%0A%0A%E7%84%B6%E5%90%8E%E9%85%8D%E7%BD%AE%E4%BE%9D%E8%B5%96%E5%92%8C%20%60npm%20scripts%60%EF%BC%9A%0A%0A%60%60%60json%0A%7B%0A%20%20%22scripts%22%3A%20%7B%0A%20%20%20%20%22test%22%3A%20%22egg-bin%20test%22%2C%0A%20%20%20%20%22cov%22%3A%20%22egg-bin%20cov%22%0A%20%20%7D%0A%7D%0A%60%60%60%0A%0A%60%60%60bash%0A%24%20npm%20i%20egg-mock%20--save-dev%0A%60%60%60%0A%0A%E6%89%A7%E8%A1%8C%E6%B5%8B%E8%AF%95%EF%BC%9A%0A%0A%60%60%60bash%0A%24%20npm%20test%0A%60%60%60%0A%0A%E5%B0%B1%E8%BF%99%E4%B9%88%E7%AE%80%E5%8D%95%EF%BC%8C%E6%9B%B4%E5%A4%9A%E8%AF%B7%E5%8F%82%E8%A7%81%20%5B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%5D(..%2Fcore%2Funittest.md)%E3%80%82%0A%0A%23%23%20%E5%90%8E%E8%AE%B0%0A%0A%E7%9F%AD%E7%9F%AD%E5%87%A0%E7%AB%A0%E5%86%85%E5%AE%B9%EF%BC%8C%E5%8F%AA%E8%83%BD%E8%AE%B2%20Egg%20%E7%9A%84%E5%86%B0%E5%B1%B1%E4%B8%80%E8%A7%92%EF%BC%8C%E6%88%91%E4%BB%AC%E5%BB%BA%E8%AE%AE%E5%BC%80%E5%8F%91%E8%80%85%E7%BB%A7%E7%BB%AD%E9%98%85%E8%AF%BB%E5%85%B6%E4%BB%96%E7%AB%A0%E8%8A%82%EF%BC%9A%0A%0A-%20%E5%85%B3%E4%BA%8E%E9%AA%A8%E6%9E%B6%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%8F%82%E8%A7%81%5B%E9%AA%A8%E6%9E%B6%E8%AF%B4%E6%98%8E%5D(..%2Ftutorials%2Findex.md)%0A-%20%E6%8F%90%E4%BE%9B%E4%BA%86%E5%BC%BA%E5%A4%A7%E7%9A%84%E6%89%A9%E5%B1%95%E6%9C%BA%E5%88%B6%EF%BC%8C%E5%8F%82%E8%A7%81%5B%E6%8F%92%E4%BB%B6%5D(..%2Fbasics%2Fplugin.md)%E3%80%82%0A-%20%E4%B8%80%E4%B8%AA%E5%A4%A7%E8%A7%84%E6%A8%A1%E7%9A%84%E5%9B%A2%E9%98%9F%E9%9C%80%E8%A6%81%E9%81%B5%E5%BE%AA%E4%B8%80%E5%AE%9A%E7%9A%84%E7%BA%A6%E6%9D%9F%E5%92%8C%E7%BA%A6%E5%AE%9A%EF%BC%8C%E5%9C%A8%20Egg%20%E9%87%8C%E6%88%91%E4%BB%AC%E5%BB%BA%E8%AE%AE%E5%B0%81%E8%A3%85%E9%80%82%E5%90%88%E8%87%AA%E5%B7%B1%E5%9B%A2%E9%98%9F%E7%9A%84%E4%B8%8A%E5%B1%82%E6%A1%86%E6%9E%B6%EF%BC%8C%E5%8F%82%E8%A7%81%20%5B%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91%5D(..%2Fadvanced%2Fframework.md)%E3%80%82%0A-%20%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E6%B8%90%E8%BF%9B%E5%BC%8F%E7%9A%84%E6%A1%86%E6%9E%B6%EF%BC%8C%E4%BB%A3%E7%A0%81%E7%9A%84%E5%85%B1%E5%BB%BA%EF%BC%8C%E5%A4%8D%E7%94%A8%E5%92%8C%E4%B8%8B%E6%B2%89%EF%BC%8C%E7%AB%9F%E7%84%B6%E5%8F%AF%E4%BB%A5%E8%BF%99%E4%B9%88%E7%9A%84%E6%97%A0%E7%97%9B%EF%BC%8C%E5%BB%BA%E8%AE%AE%E9%98%85%E8%AF%BB%20%5B%E6%B8%90%E8%BF%9B%E5%BC%8F%E5%BC%80%E5%8F%91%5D(..%2Ftutorials%2Fprogressive.md)%E3%80%82%0A-%20%E5%86%99%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%85%B6%E5%AE%9E%E5%BE%88%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%EF%BC%8CEgg%20%E4%B9%9F%E6%8F%90%E4%BE%9B%E4%BA%86%E9%9D%9E%E5%B8%B8%E5%A4%9A%E7%9A%84%E9%85%8D%E5%A5%97%E8%BE%85%E5%8A%A9%EF%BC%8C%E6%88%91%E4%BB%AC%E5%BC%BA%E7%83%88%E5%BB%BA%E8%AE%AE%E5%A4%A7%E5%AE%B6%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%EF%BC%8C%E5%85%B7%E4%BD%93%E5%8F%82%E8%A7%81%20%5B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%5D(..%2Fcore%2Funittest.md)%E3%80%82%0A%0A%5BNode.js%5D%3A%20http%3A%2F%2Fnodejs.org%0A%5Begg-init%5D%3A%20https%3A%2F%2Fgithub.com%2Feggjs%2Fegg-init%0A%5Begg-bin%5D%3A%20https%3A%2F%2Fgithub.com%2Feggjs%2Fegg-bin%0A%5Begg-static%5D%3A%20https%3A%2F%2Fgithub.com%2Feggjs%2Fegg-static%0A%5Begg-development%5D%3A%20https%3A%2F%2Fgithub.com%2Feggjs%2Fegg-development%0A%5Begg-view-nunjucks%5D%3A%20https%3A%2F%2Fgithub.com%2Feggjs%2Fegg-view-nunjucks%0A%5Burllib%5D%3A%20https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Furllib%0A%5BNunjucks%5D%3A%20https%3A%2F%2Fmozilla.github.io%2Fnunjucks%2F%0A"}}</script><script type="text/javascript" src="/static/js/post.b9faab88.js"></script></body></html>